{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///mnt/windows_d/manov/code/polytix-v1/components/ui/badge.jsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90\",\n        destructive:\n          \"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nfunction Badge({\n  className,\n  variant,\n  asChild = false,\n  ...props\n}) {\n  const Comp = asChild ? Slot : \"span\"\n\n  return (\n    (<Comp\n      data-slot=\"badge\"\n      className={cn(badgeVariants({ variant }), className)}\n      {...props} />)\n  );\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,gBAAgB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACtB,kZACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,SAAS,MAAM,EACb,SAAS,EACT,OAAO,EACP,UAAU,KAAK,EACf,GAAG,OACJ;IACC,MAAM,OAAO,UAAU,mKAAA,CAAA,OAAI,GAAG;IAE9B,qBACG,6LAAC;QACA,aAAU;QACV,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EAAE,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAEf;KAdS","debugId":null}},
    {"offset": {"line": 61, "column": 0}, "map": {"version":3,"sources":["file:///mnt/windows_d/manov/code/polytix-v1/components/ui/alert.jsx"],"sourcesContent":["import * as React from \"react\"\nimport { cva } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\"\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-card text-card-foreground\",\n        destructive:\n          \"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nfunction Alert({\n  className,\n  variant,\n  ...props\n}) {\n  return (\n    (<div\n      data-slot=\"alert\"\n      role=\"alert\"\n      className={cn(alertVariants({ variant }), className)}\n      {...props} />)\n  );\n}\n\nfunction AlertTitle({\n  className,\n  ...props\n}) {\n  return (\n    (<div\n      data-slot=\"alert-title\"\n      className={cn(\"col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight\", className)}\n      {...props} />)\n  );\n}\n\nfunction AlertDescription({\n  className,\n  ...props\n}) {\n  return (\n    (<div\n      data-slot=\"alert-description\"\n      className={cn(\n        \"text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed\",\n        className\n      )}\n      {...props} />)\n  );\n}\n\nexport { Alert, AlertTitle, AlertDescription }\n"],"names":[],"mappings":";;;;;;AAAA;AACA;AAEA;;;;;AAEA,MAAM,gBAAgB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACtB,qOACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,SAAS,MAAM,EACb,SAAS,EACT,OAAO,EACP,GAAG,OACJ;IACC,qBACG,6LAAC;QACA,aAAU;QACV,MAAK;QACL,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EAAE,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAEf;KAZS;AAcT,SAAS,WAAW,EAClB,SAAS,EACT,GAAG,OACJ;IACC,qBACG,6LAAC;QACA,aAAU;QACV,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EAAE,+DAA+D;QAC5E,GAAG,KAAK;;;;;;AAEf;MAVS;AAYT,SAAS,iBAAiB,EACxB,SAAS,EACT,GAAG,OACJ;IACC,qBACG,6LAAC;QACA,aAAU;QACV,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EACV,kGACA;QAED,GAAG,KAAK;;;;;;AAEf;MAbS","debugId":null}},
    {"offset": {"line": 138, "column": 0}, "map": {"version":3,"sources":["file:///mnt/windows_d/manov/code/polytix-v1/lib/error-handler.jsx"],"sourcesContent":["// src/lib/error-handler.js\n\nimport { toast } from \"sonner\";\n\n// Define known RPC error codes (optional but helpful for readability)\nconst ERROR_CODE_USER_REJECTED = 4001;\nconst ETHERS_ACTION_REJECTED = 'ACTION_REJECTED';\nconst ETHERS_CALL_EXCEPTION = 'CALL_EXCEPTION';\nconst ETHERS_INSUFFICIENT_FUNDS = 'INSUFFICIENT_FUNDS';\nconst ETHERS_NETWORK_ERROR = 'NETWORK_ERROR';\nconst ETHERS_NONCE_EXPIRED = 'NONCE_EXPIRED';\nconst ETHERS_REPLACEMENT_UNDERPRICED = 'REPLACEMENT_UNDERPRICED';\nconst ETHERS_UNPREDICTABLE_GAS_LIMIT = 'UNPREDICTABLE_GAS_LIMIT';\n\n/**\n * Parses RPC errors and displays a user-friendly toast notification.\n * @param {any} error The error object received from an RPC call (e.g., ethers.js, viem).\n * @param {string} [customPrefix] Optional prefix for the toast message (e.g., \"Registration failed\").\n */\nexport function handleRpcError(error, customPrefix) {\n  // Log the full error for developers in the console\n  console.error(\"RPC Error encountered:\", error);\n\n  let message = \"An unknown error occurred.\";\n  const prefix = customPrefix ? `${customPrefix}: ` : \"Error: \";\n\n  if (error) {\n    // Try to extract message based on common error structures\n    const code = error.code;\n    const reason = error.reason; // Often present in contract revert errors (ethers.js v5/v6)\n    const dataMessage = error.data?.message; // Sometimes nested message\n    const errorDataMessage = error.error?.data?.message; // Deeper nesting\n    const shortMessage = error?.shortMessage; // Viem style\n    const causeMessage = error?.cause?.shortMessage; // Viem nested style\n    const errorMessage = (error.message || '').toLowerCase(); // General message\n\n    // 1. User Rejected Transaction\n    if (\n      code === ERROR_CODE_USER_REJECTED ||\n      code === ETHERS_ACTION_REJECTED ||\n      errorMessage.includes(\"user rejected\") ||\n      errorMessage.includes(\"user denied\") ||\n      shortMessage?.includes(\"User rejected the request\")\n    ) {\n      message = \"Transaction rejected by user.\";\n    }\n    // 2. Contract Revert / Call Exception (ethers.js)\n    else if (code === ETHERS_CALL_EXCEPTION) {\n       message = reason ? `Transaction reverted: ${reason}` : \"Transaction failed: Contract execution reverted.\";\n       // Try to extract better reason if not directly available\n       if (!reason) {\n         const revertReasonMatch = errorMessage.match(/reason=\"([^\"]+)\"/);\n         if (revertReasonMatch?.[1]) {\n           message = `Transaction reverted: ${revertReasonMatch[1]}`;\n         } else if (errorMessage.includes('execution reverted')) {\n             const executionRevertedIndex = errorMessage.indexOf('execution reverted');\n             // Extract potential reason after 'execution reverted', clean it up\n             const potentialReason = errorMessage.substring(executionRevertedIndex + 'execution reverted'.length).trim().replace(/['\"`].*$/, '').replace(/^[:\\s]+/, '');\n             if (potentialReason && potentialReason.length < 100) { // Check if it looks like a reasonable reason\n                 message = `Transaction reverted: ${potentialReason}`;\n             }\n         }\n       }\n    }\n     // 3. Viem specific revert handling (more robust)\n    else if (shortMessage?.startsWith('execution reverted')) {\n        const detail = shortMessage.split('execution reverted: ')[1] || 'Reason not provided';\n        message = `Transaction reverted: ${detail}`;\n    } else if (causeMessage?.startsWith('execution reverted')) {\n        const detail = causeMessage.split('execution reverted: ')[1] || 'Reason not provided';\n        message = `Transaction reverted: ${detail}`;\n    }\n    // 4. Insufficient Funds\n    else if (\n      code === ETHERS_INSUFFICIENT_FUNDS ||\n      errorMessage.includes(\"insufficient funds\") ||\n      shortMessage?.includes(\"insufficient funds\")\n    ) {\n      message = \"Insufficient funds to complete the transaction.\";\n    }\n    // 5. Network Error\n    else if (code === ETHERS_NETWORK_ERROR) {\n      message = \"Network error. Please check your connection or RPC provider.\";\n    }\n    // 6. Nonce Issues\n    else if (\n        code === ETHERS_NONCE_EXPIRED ||\n        code === ETHERS_REPLACEMENT_UNDERPRICED ||\n        errorMessage.includes(\"nonce\") ||\n        shortMessage?.includes(\"nonce too low\") ||\n        shortMessage?.includes(\"replacement transaction underpriced\")\n    ) {\n        message = \"Transaction nonce error. Please try again, or reset your wallet account if the issue persists.\";\n    }\n    // 7. Gas Estimation Failed (often hides an underlying revert)\n    else if (\n        code === ETHERS_UNPREDICTABLE_GAS_LIMIT ||\n        shortMessage?.includes(\"cannot estimate gas\") ||\n        errorMessage.includes(\"gas required exceeds allowance\") // Another common cause\n        ) {\n        message = \"Cannot estimate gas. Transaction may fail.\";\n        // Attempt to find nested reason\n        const nestedReason = error.error?.message || errorDataMessage || causeMessage || '';\n        if (nestedReason.includes('execution reverted')) {\n             message += ` Potential reason: ${nestedReason.substring(nestedReason.indexOf('execution reverted'))}`;\n        } else if (nestedReason.includes(\"insufficient allowance\")) {\n             message += \" Check token allowance.\";\n        } else if (nestedReason.includes(\"insufficient balance\")) {\n            message = \"Insufficient funds.\"; // Overwrite if more specific\n        }\n    }\n    // 8. Other known reasons (extracted from messages)\n    else if (reason) {\n      message = `Transaction failed: ${reason}`;\n    } else if (shortMessage && shortMessage.length < 150) { // Use viem short message if reasonable\n        message = shortMessage;\n    } else if (dataMessage) {\n      message = dataMessage;\n    } else if (errorDataMessage) {\n      message = errorDataMessage;\n    }\n    // 9. Fallback to generic error message if available and reasonable length\n    else if (error.message && error.message.length < 150) {\n      message = error.message;\n    }\n  }\n\n  // Display the toast notification using sonner\n  toast.error(`${prefix}${message}`);\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 234, "column": 0}, "map": {"version":3,"sources":["file:///mnt/windows_d/manov/code/polytix-v1/app/campaigns/%5Bid%5D/_components/campaign-header.jsx"],"sourcesContent":["\"use client\"\n\nimport { useState } from \"react\"\nimport { Button } from \"@/components/ui/button\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Alert, AlertDescription } from \"@/components/ui/alert\"\nimport { Clock, AlertCircle, Calendar, User, PlayCircle, StopCircle } from \"lucide-react\"\nimport { formatAddress, getVotingTypeText, getRestrictionText } from \"@/lib/utils\"\nimport { useContract } from \"@/context/contract-context\"\nimport { toast } from \"sonner\"\nimport { handleRpcError } from \"@/lib/error-handler\"\n\nexport default function CampaignHeader({\n  campaignInfo,\n  timeRemaining,\n  isBeforeStart,\n  isDuringVoting,\n  needsStatusUpdate,\n  actionLoading,\n  actionError,\n  onUpdateStatus,\n  campaignId,\n  isOwner,\n}) {\n  const { contract } = useContract()\n  const [isUpdatingStatus, setIsUpdatingStatus] = useState(false)\n\n  // Function to update campaign status\n  const updateCampaignStatus = async () => {\n    if (!contract || isUpdatingStatus) return\n\n    try {\n      setIsUpdatingStatus(true)\n\n      // Call the contract's updateCampaignStatus function\n      // Note: This function might not exist in your contract, you may need to implement it\n      // or use a different approach to update the status\n      const tx = await contract.updateCampaignStatus(campaignId)\n\n      toast.loading(\"Updating campaign status...\", {\n        id: \"update-status\",\n      })\n\n      await tx.wait()\n\n      toast.success(\"Campaign status updated successfully!\", {\n        id: \"update-status\",\n      })\n\n      // Refresh data\n      onUpdateStatus()\n    } catch (error) {\n      console.error(\"Error updating campaign status:\", error)\n      handleRpcError(error)\n    } finally {\n      setIsUpdatingStatus(false)\n    }\n  }\n\n  // Format the campaign status\n  const getCampaignStatusText = () => {\n    if (campaignInfo.status === 0) return \"Created\"\n    if (campaignInfo.status === 1) return \"Active\"\n    if (campaignInfo.status === 2) return \"Ended\"\n    if (campaignInfo.status === 3) return \"Canceled\"\n    return \"Unknown\"\n  }\n\n  // Get the appropriate status badge color\n  const getStatusBadgeVariant = () => {\n    if (campaignInfo.status === 0) return \"outline\" // Created\n    if (campaignInfo.status === 1) return \"success\" // Active\n    if (campaignInfo.status === 2) return \"secondary\" // Ended\n    if (campaignInfo.status === 3) return \"destructive\" // Canceled\n    return \"outline\"\n  }\n\n  return (\n    <div className=\"mb-8\">\n      <div className=\"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6\">\n        <div>\n          <h1 className=\"text-3xl font-bold text-gray-900 dark:text-gray-100 mb-2\">{campaignInfo.description}</h1>\n          <div className=\"flex flex-wrap items-center gap-2 text-sm text-gray-600 dark:text-gray-400\">\n            <span className=\"flex items-center gap-1\">\n              <User className=\"h-4 w-4\" />\n              <span>\n                Created by: {formatAddress(campaignInfo.creator)}\n                {isOwner && <span className=\"ml-1 text-purple-700 dark:text-purple-400\">(You)</span>}\n              </span>\n            </span>\n            <span className=\"hidden md:inline\">â€¢</span>\n            <span className=\"flex items-center gap-1\">\n              <Calendar className=\"h-4 w-4\" />\n              <span>\n                {new Date(campaignInfo.startTime * 1000).toLocaleDateString()} -\n                {new Date(campaignInfo.endTime * 1000).toLocaleDateString()}\n              </span>\n            </span>\n          </div>\n        </div>\n\n        <div className=\"flex flex-wrap items-center gap-2\">\n          <Badge variant={getStatusBadgeVariant()}>{getCampaignStatusText()}</Badge>\n          <Badge variant=\"outline\">{getVotingTypeText(campaignInfo.votingType)}</Badge>\n          <Badge variant=\"outline\">{getRestrictionText(campaignInfo.restriction)}</Badge>\n        </div>\n      </div>\n\n      {/* Countdown Timer */}\n      {(isBeforeStart || isDuringVoting) && (\n        <div className=\"bg-white dark:bg-gray-900 rounded-lg p-4 shadow-sm border border-gray-200 dark:border-gray-800 mb-6\">\n          <div className=\"flex items-center gap-2 mb-2\">\n            <Clock className=\"h-5 w-5 text-purple-700 dark:text-purple-400\" />\n            <h2 className=\"font-medium text-gray-900 dark:text-gray-100\">\n              {isBeforeStart ? \"Voting begins in:\" : \"Voting ends in:\"}\n            </h2>\n          </div>\n          <div className=\"grid grid-cols-4 gap-2 text-center\">\n            <div className=\"bg-gray-100 dark:bg-gray-800 p-2 rounded\">\n              <div className=\"text-2xl font-bold text-purple-700 dark:text-purple-400\">{timeRemaining.days}</div>\n              <div className=\"text-xs text-gray-600 dark:text-gray-400\">Days</div>\n            </div>\n            <div className=\"bg-gray-100 dark:bg-gray-800 p-2 rounded\">\n              <div className=\"text-2xl font-bold text-purple-700 dark:text-purple-400\">{timeRemaining.hours}</div>\n              <div className=\"text-xs text-gray-600 dark:text-gray-400\">Hours</div>\n            </div>\n            <div className=\"bg-gray-100 dark:bg-gray-800 p-2 rounded\">\n              <div className=\"text-2xl font-bold text-purple-700 dark:text-purple-400\">{timeRemaining.minutes}</div>\n              <div className=\"text-xs text-gray-600 dark:text-gray-400\">Minutes</div>\n            </div>\n            <div className=\"bg-gray-100 dark:bg-gray-800 p-2 rounded\">\n              <div className=\"text-2xl font-bold text-purple-700 dark:text-purple-400\">{timeRemaining.seconds}</div>\n              <div className=\"text-xs text-gray-600 dark:text-gray-400\">Seconds</div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Status Update Alert for Owner */}\n      {isOwner && needsStatusUpdate && (\n        <Alert className=\"mb-6 border-amber-200 bg-amber-50 dark:bg-amber-950/20 dark:border-amber-900\">\n          <AlertCircle className=\"h-4 w-4 text-amber-600 dark:text-amber-400\" />\n          <AlertDescription className=\"text-amber-800 dark:text-amber-300 ml-2 flex-grow\">\n            Campaign status needs to be updated to reflect its current phase.\n          </AlertDescription>\n          <Button\n            size=\"sm\"\n            onClick={updateCampaignStatus}\n            disabled={isUpdatingStatus}\n            className=\"ml-2 bg-amber-600 hover:bg-amber-700 text-white\"\n          >\n            {isUpdatingStatus ? (\n              \"Updating...\"\n            ) : isDuringVoting ? (\n              <span className=\"flex items-center gap-1\">\n                <PlayCircle className=\"h-4 w-4\" /> Activate\n              </span>\n            ) : (\n              <span className=\"flex items-center gap-1\">\n                <StopCircle className=\"h-4 w-4\" /> End Campaign\n              </span>\n            )}\n          </Button>\n        </Alert>\n      )}\n\n      {/* Action Error */}\n      {actionError && (\n        <Alert className=\"mb-6 border-red-200 bg-red-50 dark:bg-red-950/20 dark:border-red-900\">\n          <AlertCircle className=\"h-4 w-4 text-red-600 dark:text-red-400\" />\n          <AlertDescription className=\"text-red-800 dark:text-red-300 ml-2\">{actionError}</AlertDescription>\n        </Alert>\n      )}\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 709, "column": 0}, "map": {"version":3,"sources":["file:///mnt/windows_d/manov/code/polytix-v1/components/ui/tabs.jsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Tabs({\n  className,\n  ...props\n}) {\n  return (\n    (<TabsPrimitive.Root\n      data-slot=\"tabs\"\n      className={cn(\"flex flex-col gap-2\", className)}\n      {...props} />)\n  );\n}\n\nfunction TabsList({\n  className,\n  ...props\n}) {\n  return (\n    (<TabsPrimitive.List\n      data-slot=\"tabs-list\"\n      className={cn(\n        \"bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]\",\n        className\n      )}\n      {...props} />)\n  );\n}\n\nfunction TabsTrigger({\n  className,\n  ...props\n}) {\n  return (\n    (<TabsPrimitive.Trigger\n      data-slot=\"tabs-trigger\"\n      className={cn(\n        \"data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props} />)\n  );\n}\n\nfunction TabsContent({\n  className,\n  ...props\n}) {\n  return (\n    (<TabsPrimitive.Content\n      data-slot=\"tabs-content\"\n      className={cn(\"flex-1 outline-none\", className)}\n      {...props} />)\n  );\n}\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,SAAS,KAAK,EACZ,SAAS,EACT,GAAG,OACJ;IACC,qBACG,6LAAC,mKAAA,CAAA,OAAkB;QAClB,aAAU;QACV,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EAAE,uBAAuB;QACpC,GAAG,KAAK;;;;;;AAEf;KAVS;AAYT,SAAS,SAAS,EAChB,SAAS,EACT,GAAG,OACJ;IACC,qBACG,6LAAC,mKAAA,CAAA,OAAkB;QAClB,aAAU;QACV,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EACV,uGACA;QAED,GAAG,KAAK;;;;;;AAEf;MAbS;AAeT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACJ;IACC,qBACG,6LAAC,mKAAA,CAAA,UAAqB;QACrB,aAAU;QACV,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EACV,mqBACA;QAED,GAAG,KAAK;;;;;;AAEf;MAbS;AAeT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACJ;IACC,qBACG,6LAAC,mKAAA,CAAA,UAAqB;QACrB,aAAU;QACV,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EAAE,uBAAuB;QACpC,GAAG,KAAK;;;;;;AAEf;MAVS","debugId":null}},
    {"offset": {"line": 787, "column": 0}, "map": {"version":3,"sources":["file:///mnt/windows_d/manov/code/polytix-v1/app/campaigns/%5Bid%5D/_components/campaign-tabs.jsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { useParams, useRouter } from \"next/navigation\"\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\"\nimport { Info, UserPlus, Vote, BarChart2, Settings } from \"lucide-react\"\nimport OverviewTab from \"./overview-tab\"\nimport RegisterTab from \"./register-tab\"\nimport VoteTab from \"./vote-tab\"\nimport ResultsTab from \"./results-tab\"\nimport AdminTab from \"./admin-tab\"\n\nexport default function CampaignTabs({\n  campaignInfo,\n  proposals,\n  candidates,\n  isConnected,\n  userIsRegistered,\n  userHasVoted,\n  userIsCandidate,\n  needsRegistration,\n  isBeforeStart,\n  isDuringVoting,\n  isAfterEnd,\n  canRegister,\n  canVote,\n  isOwner,\n  address,\n  campaignId,\n  onUpdate,\n}) {\n  const params = useParams()\n  const router = useRouter()\n  const [activeTab, setActiveTab] = useState(\"overview\")\n\n  // Set the active tab based on URL params\n  useEffect(() => {\n    const tabParam = params?.tab\n    if (tabParam && [\"overview\", \"register\", \"vote\", \"results\", \"admin\"].includes(tabParam)) {\n      setActiveTab(tabParam)\n    }\n  }, [params])\n\n  // Update URL when tab changes\n  const handleTabChange = (value) => {\n    setActiveTab(value)\n    router.push(`/campaigns/${campaignId}/${value}`, { scroll: false })\n  }\n\n  // Handle registration completion\n  const handleRegistrationComplete = () => {\n    onUpdate()\n    // Optionally switch to vote tab if during voting period\n    if (isDuringVoting) {\n      handleTabChange(\"vote\")\n    }\n  }\n\n  // Handle vote completion\n  const handleVoteComplete = () => {\n    onUpdate()\n    // Optionally switch to results tab\n    handleTabChange(\"results\")\n  }\n\n  return (\n    <Tabs value={activeTab} onValueChange={handleTabChange} className=\"space-y-6\">\n      <TabsList className=\"grid grid-cols-4 md:grid-cols-5 h-auto p-1\">\n        <TabsTrigger value=\"overview\" className=\"flex items-center gap-2 py-2\">\n          <Info className=\"h-4 w-4\" />\n          <span className=\"hidden sm:inline\">Overview</span>\n        </TabsTrigger>\n\n        {(isBeforeStart || (isDuringVoting && needsRegistration && !userIsRegistered)) && (\n          <TabsTrigger value=\"register\" className=\"flex items-center gap-2 py-2\">\n            <UserPlus className=\"h-4 w-4\" />\n            <span className=\"hidden sm:inline\">Register</span>\n          </TabsTrigger>\n        )}\n\n        {isDuringVoting && (\n          <TabsTrigger value=\"vote\" className=\"flex items-center gap-2 py-2\">\n            <Vote className=\"h-4 w-4\" />\n            <span className=\"hidden sm:inline\">Vote</span>\n          </TabsTrigger>\n        )}\n\n        <TabsTrigger value=\"results\" className=\"flex items-center gap-2 py-2\">\n          <BarChart2 className=\"h-4 w-4\" />\n          <span className=\"hidden sm:inline\">Results</span>\n        </TabsTrigger>\n\n        {isOwner && (\n          <TabsTrigger value=\"admin\" className=\"flex items-center gap-2 py-2\">\n            <Settings className=\"h-4 w-4\" />\n            <span className=\"hidden sm:inline\">Admin</span>\n          </TabsTrigger>\n        )}\n      </TabsList>\n\n      <TabsContent value=\"overview\" className=\"mt-6\">\n        <OverviewTab\n          campaignInfo={campaignInfo}\n          isOwner={isOwner}\n          isBeforeStart={isBeforeStart}\n          isDuringVoting={isDuringVoting}\n          isAfterEnd={isAfterEnd}\n          proposals={proposals}\n          candidates={candidates}\n        />\n      </TabsContent>\n\n      <TabsContent value=\"register\" className=\"mt-6\">\n        <RegisterTab\n          campaignInfo={campaignInfo}\n          userIsRegistered={userIsRegistered}\n          onRegister={handleRegistrationComplete}\n          campaignId={campaignId}\n        />\n      </TabsContent>\n\n      <TabsContent value=\"vote\" className=\"mt-6\">\n        <VoteTab\n          campaignInfo={campaignInfo}\n          proposals={proposals}\n          candidates={candidates}\n          isConnected={isConnected}\n          userIsRegistered={userIsRegistered}\n          userHasVoted={userHasVoted}\n          needsRegistration={needsRegistration}\n          address={address}\n          onVote={handleVoteComplete}\n          campaignId={campaignId}\n        />\n      </TabsContent>\n\n      <TabsContent value=\"results\" className=\"mt-6\">\n        <ResultsTab campaignInfo={campaignInfo} proposals={proposals} candidates={candidates} isOwner={isOwner} />\n      </TabsContent>\n\n      <TabsContent value=\"admin\" className=\"mt-6\">\n        <AdminTab campaignInfo={campaignInfo} campaignId={campaignId} onUpdate={onUpdate} />\n      </TabsContent>\n    </Tabs>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1141, "column": 0}, "map": {"version":3,"sources":["file:///mnt/windows_d/manov/code/polytix-v1/app/campaigns/%5Bid%5D/_components/error-state.jsx"],"sourcesContent":["\"use client\"\n\nimport { AlertCircle } from \"lucide-react\"\nimport { Button } from \"@/components/ui/button\"\nimport Link from \"next/link\"\n\nexport default function ErrorState({ error }) {\n  return (\n    <div className=\"flex flex-col items-center justify-center min-h-[60vh] text-center px-4\">\n      <div className=\"bg-red-100 dark:bg-red-900/20 p-4 rounded-full mb-4\">\n        <AlertCircle className=\"h-12 w-12 text-red-600 dark:text-red-400\" />\n      </div>\n      <h2 className=\"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-2\">Error Loading Campaign</h2>\n      <p className=\"text-gray-600 dark:text-gray-400 max-w-md mb-6\">\n        {error || \"There was an error loading the campaign details. Please try again later.\"}\n      </p>\n      <div className=\"flex gap-4\">\n        <Button onClick={() => window.location.reload()}>Try Again</Button>\n        <Button variant=\"outline\" asChild>\n          <Link href=\"/campaigns\">Back to Campaigns</Link>\n        </Button>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAJA;;;;;AAMe,SAAS,WAAW,EAAE,KAAK,EAAE;IAC1C,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC,uNAAA,CAAA,cAAW;oBAAC,WAAU;;;;;;;;;;;0BAEzB,6LAAC;gBAAG,WAAU;0BAA2D;;;;;;0BACzE,6LAAC;gBAAE,WAAU;0BACV,SAAS;;;;;;0BAEZ,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,8HAAA,CAAA,SAAM;wBAAC,SAAS,IAAM,OAAO,QAAQ,CAAC,MAAM;kCAAI;;;;;;kCACjD,6LAAC,8HAAA,CAAA,SAAM;wBAAC,SAAQ;wBAAU,OAAO;kCAC/B,cAAA,6LAAC,+JAAA,CAAA,UAAI;4BAAC,MAAK;sCAAa;;;;;;;;;;;;;;;;;;;;;;;AAKlC;KAlBwB","debugId":null}},
    {"offset": {"line": 1239, "column": 0}, "map": {"version":3,"sources":["file:///mnt/windows_d/manov/code/polytix-v1/components/ui/card.jsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Card({\n  className,\n  ...props\n}) {\n  return (\n    (<div\n      data-slot=\"card\"\n      className={cn(\n        \"bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm\",\n        className\n      )}\n      {...props} />)\n  );\n}\n\nfunction CardHeader({\n  className,\n  ...props\n}) {\n  return (\n    (<div\n      data-slot=\"card-header\"\n      className={cn(\n        \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6\",\n        className\n      )}\n      {...props} />)\n  );\n}\n\nfunction CardTitle({\n  className,\n  ...props\n}) {\n  return (\n    (<div\n      data-slot=\"card-title\"\n      className={cn(\"leading-none font-semibold\", className)}\n      {...props} />)\n  );\n}\n\nfunction CardDescription({\n  className,\n  ...props\n}) {\n  return (\n    (<div\n      data-slot=\"card-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props} />)\n  );\n}\n\nfunction CardAction({\n  className,\n  ...props\n}) {\n  return (\n    (<div\n      data-slot=\"card-action\"\n      className={cn(\n        \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\n        className\n      )}\n      {...props} />)\n  );\n}\n\nfunction CardContent({\n  className,\n  ...props\n}) {\n  return (<div data-slot=\"card-content\" className={cn(\"px-6\", className)} {...props} />);\n}\n\nfunction CardFooter({\n  className,\n  ...props\n}) {\n  return (\n    (<div\n      data-slot=\"card-footer\"\n      className={cn(\"flex items-center px-6 [.border-t]:pt-6\", className)}\n      {...props} />)\n  );\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;AAAA;AAEA;;;;AAEA,SAAS,KAAK,EACZ,SAAS,EACT,GAAG,OACJ;IACC,qBACG,6LAAC;QACA,aAAU;QACV,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EACV,qFACA;QAED,GAAG,KAAK;;;;;;AAEf;KAbS;AAeT,SAAS,WAAW,EAClB,SAAS,EACT,GAAG,OACJ;IACC,qBACG,6LAAC;QACA,aAAU;QACV,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EACV,8JACA;QAED,GAAG,KAAK;;;;;;AAEf;MAbS;AAeT,SAAS,UAAU,EACjB,SAAS,EACT,GAAG,OACJ;IACC,qBACG,6LAAC;QACA,aAAU;QACV,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAEf;MAVS;AAYT,SAAS,gBAAgB,EACvB,SAAS,EACT,GAAG,OACJ;IACC,qBACG,6LAAC;QACA,aAAU;QACV,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAEf;MAVS;AAYT,SAAS,WAAW,EAClB,SAAS,EACT,GAAG,OACJ;IACC,qBACG,6LAAC;QACA,aAAU;QACV,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EACV,kEACA;QAED,GAAG,KAAK;;;;;;AAEf;MAbS;AAeT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACJ;IACC,qBAAQ,6LAAC;QAAI,aAAU;QAAe,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EAAE,QAAQ;QAAa,GAAG,KAAK;;;;;;AACnF;MALS;AAOT,SAAS,WAAW,EAClB,SAAS,EACT,GAAG,OACJ;IACC,qBACG,6LAAC;QACA,aAAU;QACV,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EAAE,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAEf;MAVS","debugId":null}},
    {"offset": {"line": 1356, "column": 0}, "map": {"version":3,"sources":["file:///mnt/windows_d/manov/code/polytix-v1/app/campaigns/%5Bid%5D/_components/not-found.jsx"],"sourcesContent":["import Link from \"next/link\"\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\n\nconst NotFoundState = () => {\n  return (\n    <div className=\"container max-w-4xl mx-auto py-8 bg-purple-950 min-h-screen px-4\">\n      <Card className=\"border-purple-800 bg-purple-900 shadow-lg\">\n        <CardHeader>\n          <CardTitle className=\"text-purple-100\">Campaign Not Found</CardTitle>\n        </CardHeader>\n        <CardContent>\n          <p className=\"text-purple-200 mb-4\">The campaign you're looking for doesn't exist or couldn't be loaded.</p>\n          <Button className=\"bg-purple-600 hover:bg-purple-700 text-white\" asChild>\n            <Link href=\"/campaigns\">Back to Campaigns</Link>\n          </Button>\n        </CardContent>\n      </Card>\n    </div>\n  )\n}\n\nexport default NotFoundState\n\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;;AAEA,MAAM,gBAAgB;IACpB,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC,4HAAA,CAAA,OAAI;YAAC,WAAU;;8BACd,6LAAC,4HAAA,CAAA,aAAU;8BACT,cAAA,6LAAC,4HAAA,CAAA,YAAS;wBAAC,WAAU;kCAAkB;;;;;;;;;;;8BAEzC,6LAAC,4HAAA,CAAA,cAAW;;sCACV,6LAAC;4BAAE,WAAU;sCAAuB;;;;;;sCACpC,6LAAC,8HAAA,CAAA,SAAM;4BAAC,WAAU;4BAA+C,OAAO;sCACtE,cAAA,6LAAC,+JAAA,CAAA,UAAI;gCAAC,MAAK;0CAAa;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMpC;KAhBM;uCAkBS","debugId":null}},
    {"offset": {"line": 1444, "column": 0}, "map": {"version":3,"sources":["file:///mnt/windows_d/manov/code/polytix-v1/components/ui/skeleton.jsx"],"sourcesContent":["import { cn } from \"@/lib/utils\"\n\nfunction Skeleton({\n  className,\n  ...props\n}) {\n  return (\n    (<div\n      data-slot=\"skeleton\"\n      className={cn(\"bg-accent animate-pulse rounded-md\", className)}\n      {...props} />)\n  );\n}\n\nexport { Skeleton }\n"],"names":[],"mappings":";;;;AAAA;;;AAEA,SAAS,SAAS,EAChB,SAAS,EACT,GAAG,OACJ;IACC,qBACG,6LAAC;QACA,aAAU;QACV,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EAAE,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAEf;KAVS","debugId":null}},
    {"offset": {"line": 1475, "column": 0}, "map": {"version":3,"sources":["file:///mnt/windows_d/manov/code/polytix-v1/components/ui/skeleton-card.jsx"],"sourcesContent":["import { Skeleton } from \"@/components/ui/skeleton\"\nimport { Card, CardContent, CardHeader } from \"@/components/ui/card\"\n\nexport function SkeletonCard() {\n  return (\n    <Card>\n      <CardHeader className=\"pb-2\">\n        <Skeleton className=\"h-6 w-3/4 mb-2\" />\n        <Skeleton className=\"h-4 w-1/2\" />\n      </CardHeader>\n      <CardContent>\n        <div className=\"space-y-4\">\n          <Skeleton className=\"h-20 w-full\" />\n          <div className=\"flex justify-between\">\n            <Skeleton className=\"h-4 w-1/4\" />\n            <Skeleton className=\"h-4 w-1/4\" />\n          </div>\n        </div>\n      </CardContent>\n    </Card>\n  )\n}\n\nexport function SkeletonCampaignDetail() {\n  return (\n    <div className=\"space-y-6 mt-20 px-14\">\n      <Card>\n        <CardHeader className=\"pb-2\">\n          <Skeleton className=\"h-8 w-3/4 mb-2\" />\n          <Skeleton className=\"h-4 w-1/2\" />\n        </CardHeader>\n        <CardContent>\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\">\n            {[1, 2, 3].map((i) => (\n              <Skeleton key={i} className=\"h-24 w-full\" />\n            ))}\n          </div>\n          <Skeleton className=\"h-20 w-full\" />\n        </CardContent>\n      </Card>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n        <Card className=\"lg:col-span-2\">\n          <CardHeader>\n            <Skeleton className=\"h-6 w-1/3 mb-2\" />\n            <Skeleton className=\"h-4 w-1/2\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-4\">\n              <Skeleton className=\"h-32 w-full\" />\n              <Skeleton className=\"h-24 w-full\" />\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader>\n            <Skeleton className=\"h-6 w-1/2 mb-2\" />\n            <Skeleton className=\"h-4 w-1/3\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-4\">\n              <Skeleton className=\"h-20 w-full\" />\n              <Skeleton className=\"h-20 w-full\" />\n              <Skeleton className=\"h-20 w-full\" />\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAEO,SAAS;IACd,qBACE,6LAAC,4HAAA,CAAA,OAAI;;0BACH,6LAAC,4HAAA,CAAA,aAAU;gBAAC,WAAU;;kCACpB,6LAAC,gIAAA,CAAA,WAAQ;wBAAC,WAAU;;;;;;kCACpB,6LAAC,gIAAA,CAAA,WAAQ;wBAAC,WAAU;;;;;;;;;;;;0BAEtB,6LAAC,4HAAA,CAAA,cAAW;0BACV,cAAA,6LAAC;oBAAI,WAAU;;sCACb,6LAAC,gIAAA,CAAA,WAAQ;4BAAC,WAAU;;;;;;sCACpB,6LAAC;4BAAI,WAAU;;8CACb,6LAAC,gIAAA,CAAA,WAAQ;oCAAC,WAAU;;;;;;8CACpB,6LAAC,gIAAA,CAAA,WAAQ;oCAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMhC;KAlBgB;AAoBT,SAAS;IACd,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC,4HAAA,CAAA,OAAI;;kCACH,6LAAC,4HAAA,CAAA,aAAU;wBAAC,WAAU;;0CACpB,6LAAC,gIAAA,CAAA,WAAQ;gCAAC,WAAU;;;;;;0CACpB,6LAAC,gIAAA,CAAA,WAAQ;gCAAC,WAAU;;;;;;;;;;;;kCAEtB,6LAAC,4HAAA,CAAA,cAAW;;0CACV,6LAAC;gCAAI,WAAU;0CACZ;oCAAC;oCAAG;oCAAG;iCAAE,CAAC,GAAG,CAAC,CAAC,kBACd,6LAAC,gIAAA,CAAA,WAAQ;wCAAS,WAAU;uCAAb;;;;;;;;;;0CAGnB,6LAAC,gIAAA,CAAA,WAAQ;gCAAC,WAAU;;;;;;;;;;;;;;;;;;0BAIxB,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,4HAAA,CAAA,OAAI;wBAAC,WAAU;;0CACd,6LAAC,4HAAA,CAAA,aAAU;;kDACT,6LAAC,gIAAA,CAAA,WAAQ;wCAAC,WAAU;;;;;;kDACpB,6LAAC,gIAAA,CAAA,WAAQ;wCAAC,WAAU;;;;;;;;;;;;0CAEtB,6LAAC,4HAAA,CAAA,cAAW;0CACV,cAAA,6LAAC;oCAAI,WAAU;;sDACb,6LAAC,gIAAA,CAAA,WAAQ;4CAAC,WAAU;;;;;;sDACpB,6LAAC,gIAAA,CAAA,WAAQ;4CAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;kCAK1B,6LAAC,4HAAA,CAAA,OAAI;;0CACH,6LAAC,4HAAA,CAAA,aAAU;;kDACT,6LAAC,gIAAA,CAAA,WAAQ;wCAAC,WAAU;;;;;;kDACpB,6LAAC,gIAAA,CAAA,WAAQ;wCAAC,WAAU;;;;;;;;;;;;0CAEtB,6LAAC,4HAAA,CAAA,cAAW;0CACV,cAAA,6LAAC;oCAAI,WAAU;;sDACb,6LAAC,gIAAA,CAAA,WAAQ;4CAAC,WAAU;;;;;;sDACpB,6LAAC,gIAAA,CAAA,WAAQ;4CAAC,WAAU;;;;;;sDACpB,6LAAC,gIAAA,CAAA,WAAQ;4CAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOlC;MAhDgB","debugId":null}},
    {"offset": {"line": 1787, "column": 0}, "map": {"version":3,"sources":["file:///mnt/windows_d/manov/code/polytix-v1/app/campaigns/%5Bid%5D/page.jsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useState, useCallback } from \"react\"\nimport { useParams, useRouter } from \"next/navigation\"\nimport { useContract } from \"@/context/contract-context\"\nimport CampaignHeader from \"./_components/campaign-header\"\nimport CampaignTabs from \"./_components/campaign-tabs\"\nimport ErrorState from \"./_components/error-state\"\nimport NotFoundState from \"./_components/not-found\"\nimport { getTimeRemaining, isUserCandidate } from \"@/lib/utils\"\nimport { SkeletonCampaignDetail } from \"@/components/ui/skeleton-card\"\n\nconst CampaignDetailPage = () => {\n  const { contract, address, isConnected } = useContract()\n  const params = useParams()\n  const router = useRouter()\n  const campaignIdParam = params?.id\n  const tabParam = params?.tab || \"overview\"\n\n  const [campaignId, setCampaignId] = useState(null)\n  const [campaignInfo, setCampaignInfo] = useState(null)\n  const [proposals, setProposals] = useState([])\n  const [candidates, setCandidates] = useState([])\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState(null)\n  const [userHasVoted, setUserHasVoted] = useState(false)\n  const [userIsRegistered, setUserIsRegistered] = useState(false)\n  const [userIsCandidate, setUserIsCandidate] = useState(false)\n  const [isOwner, setIsOwner] = useState(false)\n  const [actionLoading, setActionLoading] = useState(false)\n  const [actionError, setActionError] = useState(\"\")\n  const [timeRemaining, setTimeRemaining] = useState({ days: 0, hours: 0, minutes: 0, seconds: 0 })\n  const [countdownTarget, setCountdownTarget] = useState(null)\n\n  // --- Data Fetching ---\n  const fetchCampaignData = useCallback(async () => {\n    if (!contract || !campaignId) {\n      setLoading(false)\n      if (campaignIdParam && !campaignId) setError(\"Invalid Campaign ID format.\")\n      return\n    }\n    setLoading(true)\n    setError(null)\n    setActionError(\"\")\n    console.log(`Fetching data for campaign ID: ${campaignId}`)\n\n    try {\n      // Fetch campaign basic info\n      const [votingType, restriction, resultType, creator, description] =\n        await contract.getCampaignBasicInfo(campaignId)\n\n      // Fetch campaign time info\n      const [status, startTime, endTime] = await contract.getCampaignTimeInfo(campaignId)\n\n      // Fetch campaign stats\n      const [totalVotes, itemCount, registeredVoterCount] = await contract.getCampaignStats(campaignId)\n\n      // Combine fetched data into a single state object\n      const combinedInfo = {\n        votingType: Number(votingType),\n        restriction: Number(restriction),\n        resultType: Number(resultType),\n        creator: creator,\n        description: description,\n        status: Number(status),\n        startTime: Number(startTime),\n        endTime: Number(endTime),\n        totalVotes: Number(totalVotes),\n        itemCount: Number(itemCount),\n        registeredVoterCount: Number(registeredVoterCount),\n      }\n      setCampaignInfo(combinedInfo)\n\n      // Check if current user is the owner\n      setIsOwner(address && address.toLowerCase() === creator.toLowerCase())\n\n      // Set countdown target based on campaign phase\n      const now = Math.floor(Date.now() / 1000)\n      if (now < combinedInfo.startTime) {\n        setCountdownTarget(combinedInfo.startTime)\n      } else if (now < combinedInfo.endTime) {\n        setCountdownTarget(combinedInfo.endTime)\n      }\n\n      console.log(\"Fetched Campaign Info:\", combinedInfo)\n\n      // Fetch proposals or candidates based on type\n      if (combinedInfo.votingType === 1 /* ProposalBased */) {\n        // Get all proposals\n        const proposalContents = []\n        const proposalVotes = []\n\n        for (let i = 0; i < combinedInfo.itemCount; i++) {\n          try {\n            const content = await contract.getProposalContent(campaignId, i)\n            const votes = await contract.getProposalVoteCount(campaignId, i)\n            proposalContents.push(content)\n            proposalVotes.push(Number(votes))\n          } catch (err) {\n            console.error(`Error fetching proposal ${i}:`, err)\n          }\n        }\n\n        const fetchedProposals = proposalContents.map((content, index) => ({\n          id: index,\n          content: content,\n          voteCount: proposalVotes[index],\n        }))\n\n        setProposals(fetchedProposals)\n        setCandidates([])\n        console.log(\"Fetched Proposals:\", fetchedProposals)\n      } else if (combinedInfo.votingType === 0 /* CandidateBased */) {\n        // Get all candidates\n        const fetchedCandidates = []\n\n        for (let i = 0; i < combinedInfo.itemCount; i++) {\n          try {\n            const [address, name, statement, imageHash, voteCount] = await contract.getCandidateInfo(campaignId, i)\n            fetchedCandidates.push({\n              id: i,\n              address: address,\n              name: name,\n              statement: statement,\n              imageHash: imageHash,\n              voteCount: Number(voteCount),\n            })\n          } catch (err) {\n            console.error(`Error fetching candidate ${i}:`, err)\n          }\n        }\n\n        setCandidates(fetchedCandidates)\n        setProposals([])\n        console.log(\"Fetched Candidates:\", fetchedCandidates)\n\n        // Check if current user is a candidate\n        if (address) {\n          const isCandidate = isUserCandidate(address, fetchedCandidates)\n          setUserIsCandidate(isCandidate)\n        }\n      }\n\n      // Fetch user-specific status if connected\n      if (address) {\n        const hasVoted = await contract.hasUserVoted(campaignId, address)\n        const isRegistered = await contract.isUserRegistered(campaignId, address)\n        setUserHasVoted(hasVoted)\n        setUserIsRegistered(isRegistered)\n        console.log(`User Status: Voted=${hasVoted}, Registered=${isRegistered}`)\n      } else {\n        setUserHasVoted(false)\n        setUserIsRegistered(false)\n        setUserIsCandidate(false)\n      }\n    } catch (err) {\n      console.error(\"Error fetching campaign data:\", err)\n      // Attempt to decode Solidity revert reason\n      let reason = \"Failed to load campaign details.\"\n      if (err.reason) {\n        reason = err.reason\n      } else if (err.data?.message) {\n        reason = err.data.message\n      } else if (err.message) {\n        reason = err.message\n      }\n      setError(reason.includes(\"Invalid campaign\") ? \"Campaign not found or ID is invalid.\" : reason)\n      setCampaignInfo(null)\n    } finally {\n      setLoading(false)\n    }\n  }, [contract, campaignId, address, campaignIdParam])\n\n  \n  // --- Effect to parse ID and trigger fetch ---\n  useEffect(() => {\n    if (campaignIdParam) {\n      try {\n        const idNumber = Number(campaignIdParam)\n        setCampaignId(idNumber)\n      } catch (e) {\n        setError(\"Invalid Campaign ID in URL.\")\n        setLoading(false)\n        setCampaignId(null)\n      }\n    } else {\n      setLoading(false)\n    }\n  }, [campaignIdParam])\n\n  useEffect(() => {\n    // Fetch data when contract is ready and campaignId is set\n    if (contract && campaignId) {\n      fetchCampaignData()\n    }\n  }, [contract, campaignId])\n\n  // Countdown timer effect\n  useEffect(() => {\n    if (!countdownTarget) return\n\n    const updateCountdown = () => {\n      const remaining = getTimeRemaining(countdownTarget)\n      setTimeRemaining(remaining)\n\n      // If countdown finished, refresh data\n      const now = Math.floor(Date.now() / 1000)\n      if (now >= countdownTarget) {\n        fetchCampaignData()\n      }\n    }\n\n    updateCountdown()\n    const interval = setInterval(updateCountdown, 1000)\n    return () => clearInterval(interval)\n  }, [countdownTarget])\n\n  // --- Render Logic ---\n  if (loading) {\n    return <SkeletonCampaignDetail />\n  }\n\n  if (error) {\n    return <ErrorState error={error} />\n  }\n\n  if (!campaignInfo) {\n    return <NotFoundState />\n  }\n\n  // Derived state for easier conditional rendering\n  const now = Math.floor(Date.now() / 1000)\n  const isBeforeStart = now < campaignInfo.startTime\n  const isDuringVoting = now >= campaignInfo.startTime && now <= campaignInfo.endTime\n  const isAfterEnd = now > campaignInfo.endTime\n  const needsRegistration =\n    campaignInfo.restriction === 1 /* Limited */ || campaignInfo.restriction === 2 /* RequiredRegistration */\n  const canRegister = isBeforeStart && campaignInfo.status === 0 /* Created */\n  const canVote = isDuringVoting && campaignInfo.status === 1 /* Active */ && !userIsCandidate\n  const needsStatusUpdate =\n    (isDuringVoting && campaignInfo.status === 0) /* Created */ ||\n    (isAfterEnd && campaignInfo.status === 1) /* Active */\n\n  return (\n    <div className=\"w-full py-6 mt-20 min-h-screen bg-gradient-to-b from-gray-50 to-purple-50 dark:from-gray-950 dark:to-purple-950/20\">\n      <div className=\"max-w-[1400px] mx-auto px-14\">\n        {/* <CampaignHeader\n          campaignInfo={campaignInfo}\n          timeRemaining={timeRemaining}\n          isBeforeStart={isBeforeStart}\n          isDuringVoting={isDuringVoting}\n          needsStatusUpdate={needsStatusUpdate}\n          actionLoading={actionLoading}\n          actionError={actionError}\n          onUpdateStatus={fetchCampaignData}\n          campaignId={campaignId}\n          isOwner={isOwner}\n        /> */}\n\n        <CampaignTabs\n          campaignInfo={campaignInfo}\n          proposals={proposals}\n          candidates={candidates}\n          isConnected={isConnected}\n          userIsRegistered={userIsRegistered}\n          userHasVoted={userHasVoted}\n          userIsCandidate={userIsCandidate}\n          needsRegistration={needsRegistration}\n          isBeforeStart={isBeforeStart}\n          isDuringVoting={isDuringVoting}\n          isAfterEnd={isAfterEnd}\n          canRegister={canRegister}\n          canVote={canVote}\n          isOwner={isOwner}\n          address={address}\n          campaignId={campaignId}\n          onUpdate={fetchCampaignData}\n        />\n      </div>\n    </div>\n  )\n}\n\nexport default CampaignDetailPage\n"],"names":[],"mappings":"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","debugId":null}}]
}