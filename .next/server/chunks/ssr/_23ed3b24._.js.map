{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///mnt/windows_d/manov/code/polytix-v1/components/ui/card.jsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Card({\n  className,\n  ...props\n}) {\n  return (\n    (<div\n      data-slot=\"card\"\n      className={cn(\n        \"bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm\",\n        className\n      )}\n      {...props} />)\n  );\n}\n\nfunction CardHeader({\n  className,\n  ...props\n}) {\n  return (\n    (<div\n      data-slot=\"card-header\"\n      className={cn(\n        \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6\",\n        className\n      )}\n      {...props} />)\n  );\n}\n\nfunction CardTitle({\n  className,\n  ...props\n}) {\n  return (\n    (<div\n      data-slot=\"card-title\"\n      className={cn(\"leading-none font-semibold\", className)}\n      {...props} />)\n  );\n}\n\nfunction CardDescription({\n  className,\n  ...props\n}) {\n  return (\n    (<div\n      data-slot=\"card-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props} />)\n  );\n}\n\nfunction CardAction({\n  className,\n  ...props\n}) {\n  return (\n    (<div\n      data-slot=\"card-action\"\n      className={cn(\n        \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\n        className\n      )}\n      {...props} />)\n  );\n}\n\nfunction CardContent({\n  className,\n  ...props\n}) {\n  return (<div data-slot=\"card-content\" className={cn(\"px-6\", className)} {...props} />);\n}\n\nfunction CardFooter({\n  className,\n  ...props\n}) {\n  return (\n    (<div\n      data-slot=\"card-footer\"\n      className={cn(\"flex items-center px-6 [.border-t]:pt-6\", className)}\n      {...props} />)\n  );\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;AAAA;AAEA;;;;AAEA,SAAS,KAAK,EACZ,SAAS,EACT,GAAG,OACJ;IACC,qBACG,8OAAC;QACA,aAAU;QACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EACV,qFACA;QAED,GAAG,KAAK;;;;;;AAEf;AAEA,SAAS,WAAW,EAClB,SAAS,EACT,GAAG,OACJ;IACC,qBACG,8OAAC;QACA,aAAU;QACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EACV,8JACA;QAED,GAAG,KAAK;;;;;;AAEf;AAEA,SAAS,UAAU,EACjB,SAAS,EACT,GAAG,OACJ;IACC,qBACG,8OAAC;QACA,aAAU;QACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAEf;AAEA,SAAS,gBAAgB,EACvB,SAAS,EACT,GAAG,OACJ;IACC,qBACG,8OAAC;QACA,aAAU;QACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAEf;AAEA,SAAS,WAAW,EAClB,SAAS,EACT,GAAG,OACJ;IACC,qBACG,8OAAC;QACA,aAAU;QACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EACV,kEACA;QAED,GAAG,KAAK;;;;;;AAEf;AAEA,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACJ;IACC,qBAAQ,8OAAC;QAAI,aAAU;QAAe,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,QAAQ;QAAa,GAAG,KAAK;;;;;;AACnF;AAEA,SAAS,WAAW,EAClB,SAAS,EACT,GAAG,OACJ;IACC,qBACG,8OAAC;QACA,aAAU;QACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAEf","debugId":null}},
    {"offset": {"line": 106, "column": 0}, "map": {"version":3,"sources":["file:///mnt/windows_d/manov/code/polytix-v1/components/ui/badge.jsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90\",\n        destructive:\n          \"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nfunction Badge({\n  className,\n  variant,\n  asChild = false,\n  ...props\n}) {\n  const Comp = asChild ? Slot : \"span\"\n\n  return (\n    (<Comp\n      data-slot=\"badge\"\n      className={cn(badgeVariants({ variant }), className)}\n      {...props} />)\n  );\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,gBAAgB,CAAA,GAAA,gKAAA,CAAA,MAAG,AAAD,EACtB,kZACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,SAAS,MAAM,EACb,SAAS,EACT,OAAO,EACP,UAAU,KAAK,EACf,GAAG,OACJ;IACC,MAAM,OAAO,UAAU,gKAAA,CAAA,OAAI,GAAG;IAE9B,qBACG,8OAAC;QACA,aAAU;QACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAEf","debugId":null}},
    {"offset": {"line": 154, "column": 0}, "map": {"version":3,"sources":["file:///mnt/windows_d/manov/code/polytix-v1/components/ui/separator.jsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Separator({\n  className,\n  orientation = \"horizontal\",\n  decorative = true,\n  ...props\n}) {\n  return (\n    (<SeparatorPrimitive.Root\n      data-slot=\"separator-root\"\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px\",\n        className\n      )}\n      {...props} />)\n  );\n}\n\nexport { Separator }\n"],"names":[],"mappings":";;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,SAAS,UAAU,EACjB,SAAS,EACT,cAAc,YAAY,EAC1B,aAAa,IAAI,EACjB,GAAG,OACJ;IACC,qBACG,8OAAC,qKAAA,CAAA,OAAuB;QACvB,aAAU;QACV,YAAY;QACZ,aAAa;QACb,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EACV,kKACA;QAED,GAAG,KAAK;;;;;;AAEf","debugId":null}},
    {"offset": {"line": 186, "column": 0}, "map": {"version":3,"sources":["file:///mnt/windows_d/manov/code/polytix-v1/components/ui/progress.jsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Progress({\n  className,\n  value,\n  ...props\n}) {\n  return (\n    (<ProgressPrimitive.Root\n      data-slot=\"progress\"\n      className={cn(\n        \"bg-primary/20 relative h-2 w-full overflow-hidden rounded-full\",\n        className\n      )}\n      {...props}>\n      <ProgressPrimitive.Indicator\n        data-slot=\"progress-indicator\"\n        className=\"bg-primary h-full w-full flex-1 transition-all\"\n        style={{ transform: `translateX(-${100 - (value || 0)}%)` }} />\n    </ProgressPrimitive.Root>)\n  );\n}\n\nexport { Progress }\n"],"names":[],"mappings":";;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,SAAS,SAAS,EAChB,SAAS,EACT,KAAK,EACL,GAAG,OACJ;IACC,qBACG,8OAAC,oKAAA,CAAA,OAAsB;QACtB,aAAU;QACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EACV,kEACA;QAED,GAAG,KAAK;kBACT,cAAA,8OAAC,oKAAA,CAAA,YAA2B;YAC1B,aAAU;YACV,WAAU;YACV,OAAO;gBAAE,WAAW,CAAC,YAAY,EAAE,MAAM,CAAC,SAAS,CAAC,EAAE,EAAE,CAAC;YAAC;;;;;;;;;;;AAGlE","debugId":null}},
    {"offset": {"line": 227, "column": 0}, "map": {"version":3,"sources":["file:///mnt/windows_d/manov/code/polytix-v1/components/ui/tooltip.jsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction TooltipProvider({\n  delayDuration = 0,\n  ...props\n}) {\n  return (<TooltipPrimitive.Provider data-slot=\"tooltip-provider\" delayDuration={delayDuration} {...props} />);\n}\n\nfunction Tooltip({\n  ...props\n}) {\n  return (\n    (<TooltipProvider>\n      <TooltipPrimitive.Root data-slot=\"tooltip\" {...props} />\n    </TooltipProvider>)\n  );\n}\n\nfunction TooltipTrigger({\n  ...props\n}) {\n  return <TooltipPrimitive.Trigger data-slot=\"tooltip-trigger\" {...props} />;\n}\n\nfunction TooltipContent({\n  className,\n  sideOffset = 0,\n  children,\n  ...props\n}) {\n  return (\n    (<TooltipPrimitive.Portal>\n      <TooltipPrimitive.Content\n        data-slot=\"tooltip-content\"\n        sideOffset={sideOffset}\n        className={cn(\n          \"bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance\",\n          className\n        )}\n        {...props}>\n        {children}\n        <TooltipPrimitive.Arrow\n          className=\"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]\" />\n      </TooltipPrimitive.Content>\n    </TooltipPrimitive.Portal>)\n  );\n}\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,SAAS,gBAAgB,EACvB,gBAAgB,CAAC,EACjB,GAAG,OACJ;IACC,qBAAQ,8OAAC,mKAAA,CAAA,WAAyB;QAAC,aAAU;QAAmB,eAAe;QAAgB,GAAG,KAAK;;;;;;AACzG;AAEA,SAAS,QAAQ,EACf,GAAG,OACJ;IACC,qBACG,8OAAC;kBACA,cAAA,8OAAC,mKAAA,CAAA,OAAqB;YAAC,aAAU;YAAW,GAAG,KAAK;;;;;;;;;;;AAG1D;AAEA,SAAS,eAAe,EACtB,GAAG,OACJ;IACC,qBAAO,8OAAC,mKAAA,CAAA,UAAwB;QAAC,aAAU;QAAmB,GAAG,KAAK;;;;;;AACxE;AAEA,SAAS,eAAe,EACtB,SAAS,EACT,aAAa,CAAC,EACd,QAAQ,EACR,GAAG,OACJ;IACC,qBACG,8OAAC,mKAAA,CAAA,SAAuB;kBACvB,cAAA,8OAAC,mKAAA,CAAA,UAAwB;YACvB,aAAU;YACV,YAAY;YACZ,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EACV,0aACA;YAED,GAAG,KAAK;;gBACR;8BACD,8OAAC,mKAAA,CAAA,QAAsB;oBACrB,WAAU;;;;;;;;;;;;;;;;;AAIpB","debugId":null}},
    {"offset": {"line": 314, "column": 0}, "map": {"version":3,"sources":["file:///mnt/windows_d/manov/code/polytix-v1/app/campaigns/%5Bid%5D/_components/countdown-timer.jsx"],"sourcesContent":["const CountdownTimer = ({ timeRemaining, isBeforeStart }) => {\n    return (\n      <div className=\"bg-purple-800/50 rounded-lg p-4 text-center\">\n        <p className=\"text-sm text-purple-300 mb-2\">{isBeforeStart ? \"Voting starts in:\" : \"Voting ends in:\"}</p>\n        <div className=\"grid grid-cols-4 gap-2\">\n          <div className=\"bg-purple-950 rounded p-2\">\n            <div className=\"text-2xl font-bold text-purple-100\">{timeRemaining.days}</div>\n            <div className=\"text-xs text-purple-400\">Days</div>\n          </div>\n          <div className=\"bg-purple-950 rounded p-2\">\n            <div className=\"text-2xl font-bold text-purple-100\">{timeRemaining.hours}</div>\n            <div className=\"text-xs text-purple-400\">Hours</div>\n          </div>\n          <div className=\"bg-purple-950 rounded p-2\">\n            <div className=\"text-2xl font-bold text-purple-100\">{timeRemaining.minutes}</div>\n            <div className=\"text-xs text-purple-400\">Minutes</div>\n          </div>\n          <div className=\"bg-purple-950 rounded p-2\">\n            <div className=\"text-2xl font-bold text-purple-100\">{timeRemaining.seconds}</div>\n            <div className=\"text-xs text-purple-400\">Seconds</div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n  \n  export default CountdownTimer\n  \n  "],"names":[],"mappings":";;;;;AAAA,MAAM,iBAAiB,CAAC,EAAE,aAAa,EAAE,aAAa,EAAE;IACpD,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAE,WAAU;0BAAgC,gBAAgB,sBAAsB;;;;;;0BACnF,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;0CAAsC,cAAc,IAAI;;;;;;0CACvE,8OAAC;gCAAI,WAAU;0CAA0B;;;;;;;;;;;;kCAE3C,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;0CAAsC,cAAc,KAAK;;;;;;0CACxE,8OAAC;gCAAI,WAAU;0CAA0B;;;;;;;;;;;;kCAE3C,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;0CAAsC,cAAc,OAAO;;;;;;0CAC1E,8OAAC;gCAAI,WAAU;0CAA0B;;;;;;;;;;;;kCAE3C,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;0CAAsC,cAAc,OAAO;;;;;;0CAC1E,8OAAC;gCAAI,WAAU;0CAA0B;;;;;;;;;;;;;;;;;;;;;;;;AAKnD;uCAEe","debugId":null}},
    {"offset": {"line": 454, "column": 0}, "map": {"version":3,"sources":["file:///mnt/windows_d/manov/code/polytix-v1/app/campaigns/%5Bid%5D/_components/user-status-indicator.jsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect } from \"react\"\n\nimport { useState } from \"react\"\n\nimport { useContract } from \"@/context/contract-context\"\nimport { CheckCircle, AlertCircle } from \"lucide-react\"\n\nconst UserStatusIndicator = ({ campaignInfo }) => {\n  const { isConnected, address } = useContract()\n\n  // Check if user has voted or is registered based on contract data\n  const [userHasVoted, userIsRegistered] = useUserStatus(campaignInfo)\n\n  if (!isConnected) {\n    return (\n      <div className=\"bg-purple-800/50 border border-purple-700 rounded-md p-3 flex items-center gap-3\">\n        <AlertCircle className=\"h-5 w-5 text-purple-300\" />\n        <p className=\"text-purple-200\">Connect your wallet to participate in this campaign</p>\n      </div>\n    )\n  }\n\n  if (userHasVoted) {\n    return (\n      <div className=\"bg-green-900/30 border border-green-800 rounded-md p-3 flex items-center gap-3\">\n        <CheckCircle className=\"h-5 w-5 text-green-400\" />\n        <p className=\"text-green-200\">✅ Your vote has been cast. Thank you for participating!</p>\n      </div>\n    )\n  }\n\n  if (campaignInfo.restriction !== 0 && userIsRegistered) {\n    return (\n      <div className=\"bg-blue-900/30 border border-blue-800 rounded-md p-3 flex items-center gap-3\">\n        <CheckCircle className=\"h-5 w-5 text-blue-400\" />\n        <p className=\"text-blue-200\">✅ You are registered to vote in this campaign</p>\n      </div>\n    )\n  }\n\n  if (campaignInfo.restriction !== 0 && !userIsRegistered) {\n    return (\n      <div className=\"bg-yellow-900/30 border border-yellow-800 rounded-md p-3 flex items-center gap-3\">\n        <AlertCircle className=\"h-5 w-5 text-yellow-400\" />\n        <p className=\"text-yellow-200\">You need to register before you can vote in this campaign</p>\n      </div>\n    )\n  }\n\n  return null\n}\n\n// Custom hook to get user status\nfunction useUserStatus(campaignInfo) {\n  const { contract, address } = useContract()\n  const [userHasVoted, setUserHasVoted] = useState(false)\n  const [userIsRegistered, setUserIsRegistered] = useState(false)\n\n  useEffect(() => {\n    const checkUserStatus = async () => {\n      if (!contract || !address || !campaignInfo) return\n\n      try {\n        const [voted, registered] = await Promise.all([\n          contract.hasVoted(campaignInfo.id, address),\n          contract.isRegisteredVoter(campaignInfo.id, address),\n        ])\n        setUserHasVoted(voted)\n        setUserIsRegistered(registered)\n      } catch (err) {\n        console.error(\"Error checking user status:\", err)\n      }\n    }\n\n    checkUserStatus()\n  }, [contract, address, campaignInfo])\n\n  return [userHasVoted, userIsRegistered]\n}\n\nexport default UserStatusIndicator\n\n"],"names":[],"mappings":";;;;AAEA;AAIA;AACA;AAAA;AAPA;;;;;;AASA,MAAM,sBAAsB,CAAC,EAAE,YAAY,EAAE;IAC3C,MAAM,EAAE,WAAW,EAAE,OAAO,EAAE,GAAG,CAAA,GAAA,+HAAA,CAAA,cAAW,AAAD;IAE3C,kEAAkE;IAClE,MAAM,CAAC,cAAc,iBAAiB,GAAG,cAAc;IAEvD,IAAI,CAAC,aAAa;QAChB,qBACE,8OAAC;YAAI,WAAU;;8BACb,8OAAC,oNAAA,CAAA,cAAW;oBAAC,WAAU;;;;;;8BACvB,8OAAC;oBAAE,WAAU;8BAAkB;;;;;;;;;;;;IAGrC;IAEA,IAAI,cAAc;QAChB,qBACE,8OAAC;YAAI,WAAU;;8BACb,8OAAC,2NAAA,CAAA,cAAW;oBAAC,WAAU;;;;;;8BACvB,8OAAC;oBAAE,WAAU;8BAAiB;;;;;;;;;;;;IAGpC;IAEA,IAAI,aAAa,WAAW,KAAK,KAAK,kBAAkB;QACtD,qBACE,8OAAC;YAAI,WAAU;;8BACb,8OAAC,2NAAA,CAAA,cAAW;oBAAC,WAAU;;;;;;8BACvB,8OAAC;oBAAE,WAAU;8BAAgB;;;;;;;;;;;;IAGnC;IAEA,IAAI,aAAa,WAAW,KAAK,KAAK,CAAC,kBAAkB;QACvD,qBACE,8OAAC;YAAI,WAAU;;8BACb,8OAAC,oNAAA,CAAA,cAAW;oBAAC,WAAU;;;;;;8BACvB,8OAAC;oBAAE,WAAU;8BAAkB;;;;;;;;;;;;IAGrC;IAEA,OAAO;AACT;AAEA,iCAAiC;AACjC,SAAS,cAAc,YAAY;IACjC,MAAM,EAAE,QAAQ,EAAE,OAAO,EAAE,GAAG,CAAA,GAAA,+HAAA,CAAA,cAAW,AAAD;IACxC,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACjD,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEzD,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,kBAAkB;YACtB,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,cAAc;YAE5C,IAAI;gBACF,MAAM,CAAC,OAAO,WAAW,GAAG,MAAM,QAAQ,GAAG,CAAC;oBAC5C,SAAS,QAAQ,CAAC,aAAa,EAAE,EAAE;oBACnC,SAAS,iBAAiB,CAAC,aAAa,EAAE,EAAE;iBAC7C;gBACD,gBAAgB;gBAChB,oBAAoB;YACtB,EAAE,OAAO,KAAK;gBACZ,QAAQ,KAAK,CAAC,+BAA+B;YAC/C;QACF;QAEA;IACF,GAAG;QAAC;QAAU;QAAS;KAAa;IAEpC,OAAO;QAAC;QAAc;KAAiB;AACzC;uCAEe","debugId":null}},
    {"offset": {"line": 615, "column": 0}, "map": {"version":3,"sources":["file:///mnt/windows_d/manov/code/polytix-v1/app/campaigns/%5Bid%5D/_components/campaign-header.jsx"],"sourcesContent":["\"use client\"\n\nimport { useState } from \"react\"\nimport Link from \"next/link\"\nimport { ChevronLeft, Clock, Award, FileText, Users, RefreshCw, Vote } from \"lucide-react\"\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Separator } from \"@/components/ui/separator\"\nimport { Progress } from \"@/components/ui/progress\"\nimport { Button } from \"@/components/ui/button\"\nimport { Tooltip, TooltipContent, TooltipProvider, TooltipTrigger } from \"@/components/ui/tooltip\"\nimport { toast } from \"sonner\"\nimport { useContract } from \"@/context/contract-context\"\nimport { formatTimestamp, formatAddress } from \"@/lib/utils\"\nimport CountdownTimer from \"./countdown-timer\"\nimport UserStatusIndicator from \"./user-status-indicator\"\n\n// Map enum numbers to strings\nconst VotingType = [\"CandidateBased\", \"ProposalBased\"]\nconst VotingRestriction = [\"OpenToAll\", \"Limited\", \"RequiredRegistration\"]\nconst ResultType = [\"RankBased\", \"OneWinner\"]\nconst CampaignStatus = [\"Created\", \"Active\", \"Ended\"]\n\nconst CampaignHeader = ({\n  campaignInfo,\n  timeRemaining,\n  isBeforeStart,\n  isDuringVoting,\n  needsStatusUpdate,\n  actionLoading,\n  actionError,\n  onUpdateStatus,\n  campaignId,\n}) => {\n  const { contract, signer, isConnected } = useContract()\n  const [updating, setUpdating] = useState(false)\n\n  const handleUpdateStatus = async () => {\n    if (!isConnected) {\n      toast.error(\"Wallet not connected\", {\n        description: \"Please connect your wallet to update status\",\n      })\n      return\n    }\n\n    if (!contract || !signer || !campaignId) {\n      toast.error(\"Cannot update status\", {\n        description: \"Wallet not connected or contract not loaded\",\n      })\n      return\n    }\n\n    setUpdating(true)\n    try {\n      const contractWithSigner = contract.connect(signer)\n      const tx = await contractWithSigner.updateCampaignStatus(campaignId)\n\n      toast.success(\"Status update submitted\", {\n        description: \"Status update transaction has been sent to the blockchain\",\n      })\n\n      await tx.wait()\n\n      toast.success(\"Status updated\", {\n        description: \"Campaign status has been updated\",\n      })\n\n      if (onUpdateStatus) onUpdateStatus()\n    } catch (err) {\n      console.error(\"Status update error:\", err)\n      let errorMessage = \"Failed to update status.\"\n      if (err.reason) errorMessage = err.reason\n      else if (err.data?.message) errorMessage = err.data.message\n      else if (err.message) errorMessage = err.message\n\n      toast.error(\"Status update failed\", {\n        description: errorMessage,\n      })\n    } finally {\n      setUpdating(false)\n    }\n  }\n\n  const getStatusBadgeClass = (status) => {\n    switch (status) {\n      case 0: // Created\n        return \"bg-purple-600 hover:bg-purple-700\"\n      case 1: // Active\n        return \"bg-green-600 hover:bg-green-700\"\n      case 2: // Ended\n        return \"bg-red-600 hover:bg-red-700\"\n      default:\n        return \"bg-gray-600 hover:bg-gray-700\"\n    }\n  }\n\n  return (\n    <>\n      <div className=\"mb-6\">\n        <Link\n          href=\"/campaigns\"\n          className=\"flex items-center text-purple-300 hover:text-purple-100 transition-colors mb-4\"\n        >\n          <ChevronLeft className=\"h-4 w-4 mr-1\" />\n          Back to campaigns\n        </Link>\n      </div>\n\n      <Card className=\"border-purple-800 bg-purple-900 shadow-lg\">\n        <CardHeader>\n          <div className=\"flex flex-col md:flex-row md:justify-between md:items-start gap-2\">\n            <div>\n              <CardTitle className=\"text-2xl text-purple-100\">{campaignInfo.description}</CardTitle>\n              <CardDescription className=\"mt-2 text-purple-300\">\n                Created by: <span className=\"font-mono\">{formatAddress(campaignInfo.creator)}</span>\n              </CardDescription>\n            </div>\n            <Badge className={getStatusBadgeClass(campaignInfo.status)}>{CampaignStatus[campaignInfo.status]}</Badge>\n          </div>\n        </CardHeader>\n\n        <CardContent className=\"space-y-6\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <TooltipProvider>\n              <Tooltip>\n                <TooltipTrigger asChild>\n                  <div className=\"flex items-center gap-2 bg-purple-800/50 p-3 rounded-lg\">\n                    <FileText className=\"h-5 w-5 text-purple-300\" />\n                    <div>\n                      <p className=\"text-sm text-purple-300\">Voting Type</p>\n                      <p className=\"font-medium text-purple-100\">{VotingType[campaignInfo.votingType]}</p>\n                    </div>\n                  </div>\n                </TooltipTrigger>\n                <TooltipContent>\n                  <p>\n                    {campaignInfo.votingType === 0\n                      ? \"Vote for candidates who have registered for this campaign\"\n                      : \"Vote for proposals created for this campaign\"}\n                  </p>\n                </TooltipContent>\n              </Tooltip>\n            </TooltipProvider>\n\n            <TooltipProvider>\n              <Tooltip>\n                <TooltipTrigger asChild>\n                  <div className=\"flex items-center gap-2 bg-purple-800/50 p-3 rounded-lg\">\n                    <Award className=\"h-5 w-5 text-purple-300\" />\n                    <div>\n                      <p className=\"text-sm text-purple-300\">Result Type</p>\n                      <p className=\"font-medium text-purple-100\">{ResultType[campaignInfo.resultType]}</p>\n                    </div>\n                  </div>\n                </TooltipTrigger>\n                <TooltipContent>\n                  <p>\n                    {campaignInfo.resultType === 0\n                      ? \"Results will be ranked by number of votes\"\n                      : \"Only the option with the most votes will win\"}\n                  </p>\n                </TooltipContent>\n              </Tooltip>\n            </TooltipProvider>\n\n            <TooltipProvider>\n              <Tooltip>\n                <TooltipTrigger asChild>\n                  <div className=\"flex items-center gap-2 bg-purple-800/50 p-3 rounded-lg\">\n                    <Clock className=\"h-5 w-5 text-purple-300\" />\n                    <div>\n                      <p className=\"text-sm text-purple-300\">Time Frame</p>\n                      <p className=\"font-medium text-purple-100\">\n                        {formatTimestamp(campaignInfo.startTime)} - {formatTimestamp(campaignInfo.endTime)}\n                      </p>\n                    </div>\n                  </div>\n                </TooltipTrigger>\n                <TooltipContent>\n                  <p>The time period during which voting is active</p>\n                </TooltipContent>\n              </Tooltip>\n            </TooltipProvider>\n\n            <TooltipProvider>\n              <Tooltip>\n                <TooltipTrigger asChild>\n                  <div className=\"flex items-center gap-2 bg-purple-800/50 p-3 rounded-lg\">\n                    <Users className=\"h-5 w-5 text-purple-300\" />\n                    <div>\n                      <p className=\"text-sm text-purple-300\">Access Restriction</p>\n                      <p className=\"font-medium text-purple-100\">\n                        {VotingRestriction[campaignInfo.restriction]}\n                        {campaignInfo.restriction === 1 &&\n                          campaignInfo.maxVoters > 0n &&\n                          ` (Max: ${campaignInfo.maxVoters.toString()})`}\n                      </p>\n                    </div>\n                  </div>\n                </TooltipTrigger>\n                <TooltipContent>\n                  <p>\n                    {campaignInfo.restriction === 0\n                      ? \"Anyone can vote without registration\"\n                      : campaignInfo.restriction === 1\n                        ? \"Limited number of voters can register\"\n                        : \"Registration with passkey required to vote\"}\n                  </p>\n                </TooltipContent>\n              </Tooltip>\n            </TooltipProvider>\n          </div>\n\n          <Separator className=\"bg-purple-700\" />\n\n          <UserStatusIndicator campaignInfo={campaignInfo} />\n\n          <div className=\"space-y-2\">\n            <div className=\"flex justify-between items-center\">\n              <div className=\"flex items-center gap-2\">\n                <Vote className=\"h-5 w-5 text-purple-300\" />\n                <span className=\"font-medium text-purple-100\">Voting Progress</span>\n              </div>\n              <span className=\"text-sm text-purple-300\">\n                {campaignInfo.totalVotes.toString()} votes cast\n                {campaignInfo.restriction !== 0 && ` / ${campaignInfo.registeredVoterCount.toString()} registered`}\n              </span>\n            </div>\n\n            <Progress\n              value={\n                campaignInfo.registeredVoterCount > 0n\n                  ? (Number(campaignInfo.totalVotes) / Number(campaignInfo.registeredVoterCount)) * 100\n                  : 0\n              }\n              className=\"h-2 bg-purple-800\"\n              indicatorClassName=\"bg-purple-400\"\n            />\n          </div>\n\n          {/* Countdown Timer */}\n          {(isBeforeStart || isDuringVoting) && (\n            <CountdownTimer timeRemaining={timeRemaining} isBeforeStart={isBeforeStart} />\n          )}\n\n          {needsStatusUpdate && (\n            <div className=\"flex justify-center\">\n              <Button\n                onClick={handleUpdateStatus}\n                disabled={updating}\n                className=\"flex items-center gap-2 bg-purple-600 hover:bg-purple-700 text-white\"\n              >\n                <RefreshCw className={`h-4 w-4 ${updating ? \"animate-spin\" : \"\"}`} />\n                {updating ? \"Updating Status...\" : \"Update Campaign Status\"}\n              </Button>\n            </div>\n          )}\n\n          {actionError && (\n            <div className=\"bg-red-900/50 border border-red-700 text-red-200 rounded-md p-3 text-sm\">{actionError}</div>\n          )}\n        </CardContent>\n      </Card>\n    </>\n  )\n}\n\nexport default CampaignHeader\n\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1270, "column": 0}, "map": {"version":3,"sources":["file:///mnt/windows_d/manov/code/polytix-v1/components/ui/tabs.jsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Tabs({\n  className,\n  ...props\n}) {\n  return (\n    (<TabsPrimitive.Root\n      data-slot=\"tabs\"\n      className={cn(\"flex flex-col gap-2\", className)}\n      {...props} />)\n  );\n}\n\nfunction TabsList({\n  className,\n  ...props\n}) {\n  return (\n    (<TabsPrimitive.List\n      data-slot=\"tabs-list\"\n      className={cn(\n        \"bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]\",\n        className\n      )}\n      {...props} />)\n  );\n}\n\nfunction TabsTrigger({\n  className,\n  ...props\n}) {\n  return (\n    (<TabsPrimitive.Trigger\n      data-slot=\"tabs-trigger\"\n      className={cn(\n        \"data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props} />)\n  );\n}\n\nfunction TabsContent({\n  className,\n  ...props\n}) {\n  return (\n    (<TabsPrimitive.Content\n      data-slot=\"tabs-content\"\n      className={cn(\"flex-1 outline-none\", className)}\n      {...props} />)\n  );\n}\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,SAAS,KAAK,EACZ,SAAS,EACT,GAAG,OACJ;IACC,qBACG,8OAAC,gKAAA,CAAA,OAAkB;QAClB,aAAU;QACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,uBAAuB;QACpC,GAAG,KAAK;;;;;;AAEf;AAEA,SAAS,SAAS,EAChB,SAAS,EACT,GAAG,OACJ;IACC,qBACG,8OAAC,gKAAA,CAAA,OAAkB;QAClB,aAAU;QACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EACV,uGACA;QAED,GAAG,KAAK;;;;;;AAEf;AAEA,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACJ;IACC,qBACG,8OAAC,gKAAA,CAAA,UAAqB;QACrB,aAAU;QACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EACV,mqBACA;QAED,GAAG,KAAK;;;;;;AAEf;AAEA,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACJ;IACC,qBACG,8OAAC,gKAAA,CAAA,UAAqB;QACrB,aAAU;QACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,uBAAuB;QACpC,GAAG,KAAK;;;;;;AAEf","debugId":null}},
    {"offset": {"line": 1336, "column": 0}, "map": {"version":3,"sources":["file:///mnt/windows_d/manov/code/polytix-v1/app/campaigns/%5Bid%5D/_components/tabs/overview-tab.jsx"],"sourcesContent":["\"use client\"\n\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Clock, Users, CalendarClock, Info, Award } from \"lucide-react\"\nimport { formatDate, formatAddress, getVotingTypeText, getRestrictionText, getResultTypeText } from \"@/lib/utils\"\n\nexport default function OverviewTab({\n  campaignInfo,\n  isOwner,\n  isBeforeStart,\n  isDuringVoting,\n  isAfterEnd,\n  proposals,\n  candidates,\n}) {\n  if (!campaignInfo) return null\n\n  const isOpenToAll = campaignInfo.restriction === 0 // Open To All\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Campaign Status */}\n      {isBeforeStart && !isOpenToAll && (\n        <Card className=\"bg-blue-50 dark:bg-blue-950/20 border-blue-200 dark:border-blue-900/50\">\n          <CardContent className=\"pt-6\">\n            <div className=\"flex items-start gap-4\">\n              <Info className=\"h-5 w-5 text-blue-500 mt-0.5\" />\n              <div>\n                <h3 className=\"font-medium text-blue-700 dark:text-blue-300\">Registration Phase</h3>\n                <p className=\"text-sm text-blue-600 dark:text-blue-400 mt-1\">\n                  This campaign is in the registration phase. Voting will begin at the scheduled start time.\n                </p>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      )}\n\n      {isBeforeStart && isOpenToAll && (\n        <Card className=\"bg-blue-50 dark:bg-blue-950/20 border-blue-200 dark:border-blue-900/50\">\n          <CardContent className=\"pt-6\">\n            <div className=\"flex items-start gap-4\">\n              <Info className=\"h-5 w-5 text-blue-500 mt-0.5\" />\n              <div>\n                <h3 className=\"font-medium text-blue-700 dark:text-blue-300\">Voting Starts Soon</h3>\n                <p className=\"text-sm text-blue-600 dark:text-blue-400 mt-1\">\n                  This campaign is open to all. Voting will begin at the scheduled start time.\n                </p>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      )}\n\n      {isDuringVoting && (\n        <Card className=\"bg-green-50 dark:bg-green-950/20 border-green-200 dark:border-green-900/50\">\n          <CardContent className=\"pt-6\">\n            <div className=\"flex items-start gap-4\">\n              <Info className=\"h-5 w-5 text-green-500 mt-0.5\" />\n              <div>\n                <h3 className=\"font-medium text-green-700 dark:text-green-300\">Voting Active</h3>\n                <p className=\"text-sm text-green-600 dark:text-green-400 mt-1\">\n                  This campaign is currently in the voting phase. Cast your vote before the deadline.\n                </p>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      )}\n\n      {isAfterEnd && (\n        <Card className=\"bg-purple-50 dark:bg-purple-950/20 border-purple-200 dark:border-purple-900/50\">\n          <CardContent className=\"pt-6\">\n            <div className=\"flex items-start gap-4\">\n              <Award className=\"h-5 w-5 text-purple-500 mt-0.5\" />\n              <div>\n                <h3 className=\"font-medium text-purple-700 dark:text-purple-300\">Voting Ended</h3>\n                <p className=\"text-sm text-purple-600 dark:text-purple-400 mt-1\">\n                  This campaign has concluded. Check the results tab to see the outcome.\n                </p>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      )}\n\n      {/* Campaign Details */}\n      <Card>\n        <CardHeader>\n          <CardTitle>Campaign Details</CardTitle>\n          <CardDescription>Information about this voting campaign</CardDescription>\n        </CardHeader>\n        <CardContent>\n          <div className=\"space-y-4\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div className=\"space-y-1\">\n                <p className=\"text-sm font-medium text-muted-foreground\">Campaign Type</p>\n                <div className=\"flex items-center gap-2\">\n                  <Badge variant=\"outline\">{getVotingTypeText(campaignInfo.votingType)}</Badge>\n                  <Badge variant=\"outline\">{getRestrictionText(campaignInfo.restriction)}</Badge>\n                  <Badge variant=\"outline\">{getResultTypeText(campaignInfo.resultType)}</Badge>\n                </div>\n              </div>\n\n              <div className=\"space-y-1\">\n                <p className=\"text-sm font-medium text-muted-foreground\">Creator</p>\n                <p className=\"text-sm\">{formatAddress(campaignInfo.creator)}</p>\n              </div>\n            </div>\n\n            <div className=\"space-y-1\">\n              <p className=\"text-sm font-medium text-muted-foreground\">Description</p>\n              <p className=\"text-sm whitespace-pre-wrap\">{campaignInfo.description}</p>\n            </div>\n\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 pt-2\">\n              <div className=\"flex items-center gap-2\">\n                <CalendarClock className=\"h-4 w-4 text-muted-foreground\" />\n                <div>\n                  <p className=\"text-xs font-medium text-muted-foreground\">Start Date</p>\n                  <p className=\"text-sm\">{formatDate(campaignInfo.startTime)}</p>\n                </div>\n              </div>\n\n              <div className=\"flex items-center gap-2\">\n                <CalendarClock className=\"h-4 w-4 text-muted-foreground\" />\n                <div>\n                  <p className=\"text-xs font-medium text-muted-foreground\">End Date</p>\n                  <p className=\"text-sm\">{formatDate(campaignInfo.endTime)}</p>\n                </div>\n              </div>\n\n              {!isOpenToAll && (\n                <div className=\"flex items-center gap-2\">\n                  <Users className=\"h-4 w-4 text-muted-foreground\" />\n                  <div>\n                    <p className=\"text-xs font-medium text-muted-foreground\">Registered Voters</p>\n                    <p className=\"text-sm\">{campaignInfo.registeredVoterCount}</p>\n                  </div>\n                </div>\n              )}\n\n              <div className=\"flex items-center gap-2\">\n                <Clock className=\"h-4 w-4 text-muted-foreground\" />\n                <div>\n                  <p className=\"text-xs font-medium text-muted-foreground\">Total Votes</p>\n                  <p className=\"text-sm\">{campaignInfo.totalVotes}</p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Options Preview */}\n      <Card>\n        <CardHeader>\n          <CardTitle>\n            {campaignInfo.votingType === 1 ? `Proposals (${proposals.length})` : `Candidates (${candidates.length})`}\n          </CardTitle>\n          <CardDescription>\n            {campaignInfo.votingType === 1\n              ? \"Available proposals in this campaign\"\n              : \"Registered candidates in this campaign\"}\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          {campaignInfo.votingType === 1 ? (\n            <div className=\"space-y-3\">\n              {proposals.length === 0 ? (\n                <p className=\"text-muted-foreground text-sm\">No proposals have been added to this campaign.</p>\n              ) : (\n                proposals.map((proposal) => (\n                  <div key={proposal.id} className=\"p-3 border rounded-md\">\n                    <div className=\"flex justify-between\">\n                      <h3 className=\"font-medium\">Proposal {proposal.id + 1}</h3>\n                      {isAfterEnd && <Badge variant=\"outline\">{proposal.voteCount} votes</Badge>}\n                    </div>\n                    <p className=\"text-sm mt-1 text-muted-foreground\">{proposal.content}</p>\n                  </div>\n                ))\n              )}\n            </div>\n          ) : (\n            <div className=\"space-y-3\">\n              {candidates.length === 0 ? (\n                <p className=\"text-muted-foreground text-sm\">No candidates have registered for this campaign.</p>\n              ) : (\n                candidates.map((candidate) => (\n                  <div key={candidate.id} className=\"p-3 border rounded-md\">\n                    <div className=\"flex justify-between\">\n                      <h3 className=\"font-medium\">{candidate.name}</h3>\n                      {isAfterEnd && <Badge variant=\"outline\">{candidate.voteCount} votes</Badge>}\n                    </div>\n                    <p className=\"text-xs text-muted-foreground\">{formatAddress(candidate.address)}</p>\n                    <p className=\"text-sm mt-1 text-muted-foreground\">{candidate.statement}</p>\n                  </div>\n                ))\n              )}\n            </div>\n          )}\n        </CardContent>\n      </Card>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2077, "column": 0}, "map": {"version":3,"sources":["file:///mnt/windows_d/manov/code/polytix-v1/app/campaigns/%5Bid%5D/_components/tabs/results-tab.jsx"],"sourcesContent":["\"use client\"\n\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Trophy, AlertCircle } from \"lucide-react\"\nimport { formatAddress, getActualVoterCount, getParticipationRate } from \"@/lib/utils\"\nimport {\n  BarChart,\n  Bar,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  ResponsiveContainer,\n  PieChart,\n  Pie,\n  Cell,\n  Legend,\n} from \"recharts\"\n\nexport default function ResultsTab({ campaignInfo, proposals, candidates, isOwner = false }) {\n  // Sort items by vote count (descending)\n  const sortedProposals = [...proposals].sort((a, b) => b.voteCount - a.voteCount)\n  const sortedCandidates = [...candidates].sort((a, b) => b.voteCount - a.voteCount)\n\n  // Determine if there's a winner or tie\n  const getWinnerStatus = () => {\n    if (campaignInfo.votingType === 1 /* ProposalBased */) {\n      if (proposals.length === 0) return { hasTie: false, hasWinner: false }\n\n      const highestVotes = sortedProposals[0]?.voteCount || 0\n      const tiedWinners = sortedProposals.filter((p) => p.voteCount === highestVotes)\n\n      return {\n        hasTie: tiedWinners.length > 1,\n        hasWinner: highestVotes > 0,\n        tiedWinners,\n      }\n    } else {\n      if (candidates.length === 0) return { hasTie: false, hasWinner: false }\n\n      const highestVotes = sortedCandidates[0]?.voteCount || 0\n      const tiedWinners = sortedCandidates.filter((c) => c.voteCount === highestVotes)\n\n      return {\n        hasTie: tiedWinners.length > 1,\n        hasWinner: highestVotes > 0,\n        tiedWinners,\n      }\n    }\n  }\n\n  const winnerStatus = getWinnerStatus()\n\n  console.log(proposals)\n\n  // Prepare data for charts\n  const prepareBarChartData = () => {\n    if (campaignInfo.votingType === 1) {\n      return proposals.map((p) => ({\n        name: `Proposal ${p.id + 1}`,\n        votes: p.voteCount,\n      }))\n    } else {\n      return candidates.map((c) => ({\n        name: c.name,\n        votes: c.voteCount,\n      }))\n    }\n  }\n\n  const preparePieChartData = () => {\n    if (campaignInfo.votingType === 1) {\n      return proposals.map((p) => ({\n        name: `Proposal ${p.id + 1}`,\n        value: p.voteCount,\n      }))\n    } else {\n      return candidates.map((c) => ({\n        name: c.name,\n        value: c.voteCount,\n      }))\n    }\n  }\n\n  const barChartData = prepareBarChartData()\n  const pieChartData = preparePieChartData()\n\n  // Colors for pie chart\n  const COLORS = [\n    \"#0088FE\",\n    \"#00C49F\",\n    \"#FFBB28\",\n    \"#FF8042\",\n    \"#8884d8\",\n    \"#82ca9d\",\n    \"#ffc658\",\n    \"#8dd1e1\",\n    \"#a4de6c\",\n    \"#d0ed57\",\n  ]\n\n  // // If results are hidden and user is not the owner\n  // if (campaignInfo.resultType === 1 /* Hidden */ && !isOwner) {\n  //   return (\n  //     <Card>\n  //       <CardHeader>\n  //         <CardTitle>Results</CardTitle>\n  //         <CardDescription>\n  //           Results for this campaign are private and only visible to the campaign owner.\n  //         </CardDescription>\n  //       </CardHeader>\n  //       <CardContent className=\"text-center py-8\">\n  //         <Award className=\"h-16 w-16 mx-auto text-muted-foreground/50 mb-4\" />\n  //         <p className=\"text-muted-foreground\">\n  //           The campaign owner has chosen to keep the results of this vote private.\n  //         </p>\n  //       </CardContent>\n  //     </Card>\n  //   )\n  // }\n\n  // If no votes have been cast yet\n  if (campaignInfo.totalVotes === 0) {\n    return (\n      <Card>\n        <CardHeader>\n          <CardTitle>Results</CardTitle>\n          <CardDescription>No votes have been cast in this campaign yet.</CardDescription>\n        </CardHeader>\n        <CardContent className=\"text-center py-8\">\n          <AlertCircle className=\"h-16 w-16 mx-auto text-muted-foreground/50 mb-4\" />\n          <p className=\"text-muted-foreground\">Once votes are cast, results will be displayed here.</p>\n        </CardContent>\n      </Card>\n    )\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Winner Section */}\n      {winnerStatus.hasWinner && (\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2\">\n              <Trophy className=\"h-5 w-5 text-yellow-500\" />\n              {winnerStatus.hasTie ? \"Tie Detected\" : \"Winner\"}\n            </CardTitle>\n            <CardDescription>\n              {winnerStatus.hasTie\n                ? `${winnerStatus.tiedWinners.length} options received the same number of votes`\n                : \"The winning option based on vote count\"}\n            </CardDescription>\n          </CardHeader>\n          <CardContent>\n            {winnerStatus.hasTie ? (\n              <div className=\"bg-amber-50 dark:bg-amber-950/20 border border-amber-200 dark:border-amber-900 rounded-lg p-4\">\n                <h3 className=\"font-medium text-amber-800 dark:text-amber-300 flex items-center\">\n                  <Trophy className=\"h-5 w-5 mr-2 text-amber-600 dark:text-amber-400\" />\n                  Tie Between {winnerStatus.tiedWinners.length} Options\n                </h3>\n                <div className=\"mt-4 space-y-3\">\n                  {campaignInfo.votingType === 1 /* ProposalBased */\n                    ? winnerStatus.tiedWinners.map((proposal) => (\n                        <div key={proposal.id} className=\"bg-white dark:bg-gray-800 p-3 rounded-md\">\n                          <div className=\"flex justify-between items-center\">\n                            <h4 className=\"font-medium\">Proposal {proposal.id + 1}</h4>\n                            <Badge>{proposal.voteCount} votes</Badge>\n                          </div>\n                          <p className=\"text-sm mt-1 text-muted-foreground\">{proposal.content}</p>\n                        </div>\n                      ))\n                    : winnerStatus.tiedWinners.map((candidate) => (\n                        <div key={candidate.id} className=\"bg-white dark:bg-gray-800 p-3 rounded-md\">\n                          <div className=\"flex justify-between items-center\">\n                            <h4 className=\"font-medium\">{candidate.name}</h4>\n                            <Badge>{candidate.voteCount} votes</Badge>\n                          </div>\n                          <p className=\"text-xs text-muted-foreground\">{formatAddress(candidate.address)}</p>\n                          <p className=\"text-sm mt-1 text-muted-foreground\">{candidate.statement}</p>\n                        </div>\n                      ))}\n                </div>\n              </div>\n            ) : (\n              <div className=\"bg-green-50 dark:bg-green-950/20 border border-green-200 dark:border-green-900 rounded-lg p-4\">\n                {campaignInfo.votingType === 1 /* ProposalBased */ ? (\n                  <div>\n                    <h3 className=\"font-medium text-green-800 dark:text-green-300 flex items-center\">\n                      <Trophy className=\"h-5 w-5 mr-2 text-green-600 dark:text-green-400\" />\n                      Proposal {sortedProposals[0].id + 1} Won\n                    </h3>\n                    <Badge className=\"mt-2\">{sortedProposals[0].voteCount} votes</Badge>\n                    <p className=\"mt-3 text-green-700 dark:text-green-300\">{sortedProposals[0].content}</p>\n                    <p className=\"text-sm mt-2 text-green-600 dark:text-green-400\">\n                      This proposal received{\" \"}\n                      {Math.round((sortedProposals[0].voteCount / campaignInfo.totalVotes) * 100)}% of all votes.\n                    </p>\n                  </div>\n                ) : (\n                  <div>\n                    <h3 className=\"font-medium text-green-800 dark:text-green-300 flex items-center\">\n                      <Trophy className=\"h-5 w-5 mr-2 text-green-600 dark:text-green-400\" />\n                      {sortedCandidates[0].name} Won\n                    </h3>\n                    <Badge className=\"mt-2\">{sortedCandidates[0].voteCount} votes</Badge>\n                    <p className=\"text-xs text-green-600 dark:text-green-400 mt-1\">\n                      {formatAddress(sortedCandidates[0].address)}\n                    </p>\n                    <p className=\"mt-2 text-green-700 dark:text-green-300\">{sortedCandidates[0].statement}</p>\n                    <p className=\"text-sm mt-2 text-green-600 dark:text-green-400\">\n                      This candidate received{\" \"}\n                      {Math.round((sortedCandidates[0].voteCount / campaignInfo.totalVotes) * 100)}% of all votes.\n                    </p>\n                  </div>\n                )}\n              </div>\n            )}\n          </CardContent>\n        </Card>\n      )}\n\n      {/* Charts */}\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        {/* Bar Chart */}\n        <Card>\n          <CardHeader>\n            <CardTitle>Vote Distribution</CardTitle>\n            <CardDescription>Bar chart showing vote distribution across all options</CardDescription>\n          </CardHeader>\n          <CardContent className=\"h-[400px]\">\n            <ResponsiveContainer width=\"100%\" height=\"100%\">\n              <BarChart\n                data={barChartData}\n                margin={{\n                  top: 5,\n                  right: 30,\n                  left: 20,\n                  bottom: 60,\n                }}\n              >\n                <CartesianGrid strokeDasharray=\"3 3\" />\n                <XAxis dataKey=\"name\" angle={-45} textAnchor=\"end\" height={70} interval={0} />\n                <YAxis />\n                <Tooltip />\n                <Bar dataKey=\"votes\" fill=\"#8884d8\" />\n              </BarChart>\n            </ResponsiveContainer>\n          </CardContent>\n        </Card>\n\n        {/* Pie Chart */}\n        <Card>\n          <CardHeader>\n            <CardTitle>Percentage Breakdown</CardTitle>\n            <CardDescription>Pie chart showing percentage of votes for each option</CardDescription>\n          </CardHeader>\n          <CardContent className=\"h-[400px]\">\n            <ResponsiveContainer width=\"100%\" height=\"100%\">\n              <PieChart>\n                <Pie\n                  data={pieChartData}\n                  cx=\"50%\"\n                  cy=\"50%\"\n                  labelLine={false}\n                  label={({ name, percent }) => `${name}: ${(percent * 100).toFixed(0)}%`}\n                  outerRadius={80}\n                  fill=\"#8884d8\"\n                  dataKey=\"value\"\n                >\n                  {pieChartData.map((entry, index) => (\n                    <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />\n                  ))}\n                </Pie>\n                <Tooltip formatter={(value) => [`${value} votes`, \"Votes\"]} />\n                <Legend />\n              </PieChart>\n            </ResponsiveContainer>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Detailed Results Table */}\n      <Card>\n        <CardHeader>\n          <CardTitle>Detailed Results</CardTitle>\n          <CardDescription>Complete breakdown of all voting options and their results</CardDescription>\n        </CardHeader>\n        <CardContent>\n          <div className=\"space-y-4\">\n            {campaignInfo.votingType === 1 /* ProposalBased */\n              ? // Proposal results\n                sortedProposals.map((proposal, index) => (\n                  <div key={proposal.id} className=\"bg-background/60 p-4 rounded-lg\">\n                    <div className=\"flex justify-between items-center mb-2\">\n                      <div className=\"flex items-center\">\n                        {index === 0 && !winnerStatus.hasTie && proposal.voteCount > 0 && (\n                          <Trophy className=\"h-4 w-4 text-yellow-500 mr-2\" />\n                        )}\n                        <h3 className=\"font-medium\">Proposal {proposal.id + 1}</h3>\n                      </div>\n                      <Badge variant=\"secondary\">{proposal.voteCount} votes</Badge>\n                    </div>\n                    <p className=\"text-sm text-muted-foreground\">{proposal.content}</p>\n                    <div className=\"mt-2 w-full bg-muted rounded-full h-2.5\">\n                      <div\n                        className=\"bg-primary h-2.5 rounded-full\"\n                        style={{\n                          width: `${\n                            campaignInfo.totalVotes > 0 ? (proposal.voteCount / campaignInfo.totalVotes) * 100 : 0\n                          }%`,\n                        }}\n                      ></div>\n                    </div>\n                    <p className=\"text-xs text-right mt-1 text-muted-foreground\">\n                      {campaignInfo.totalVotes > 0\n                        ? Math.round((proposal.voteCount / campaignInfo.totalVotes) * 100)\n                        : 0}\n                      %\n                    </p>\n                  </div>\n                ))\n              : // Candidate results\n                sortedCandidates.map((candidate, index) => (\n                  <div key={candidate.id} className=\"bg-background/60 p-4 rounded-lg\">\n                    <div className=\"flex justify-between items-center mb-2\">\n                      <div className=\"flex items-center\">\n                        {index === 0 && !winnerStatus.hasTie && candidate.voteCount > 0 && (\n                          <Trophy className=\"h-4 w-4 text-yellow-500 mr-2\" />\n                        )}\n                        <h3 className=\"font-medium\">{candidate.name}</h3>\n                      </div>\n                      <Badge variant=\"secondary\">{candidate.voteCount} votes</Badge>\n                    </div>\n                    <p className=\"text-xs text-muted-foreground\">{formatAddress(candidate.address)}</p>\n                    <div className=\"mt-2 w-full bg-muted rounded-full h-2.5\">\n                      <div\n                        className=\"bg-primary h-2.5 rounded-full\"\n                        style={{\n                          width: `${\n                            campaignInfo.totalVotes > 0 ? (candidate.voteCount / campaignInfo.totalVotes) * 100 : 0\n                          }%`,\n                        }}\n                      ></div>\n                    </div>\n                    <p className=\"text-xs text-right mt-1 text-muted-foreground\">\n                      {campaignInfo.totalVotes > 0\n                        ? Math.round((candidate.voteCount / campaignInfo.totalVotes) * 100)\n                        : 0}\n                      %\n                    </p>\n                  </div>\n                ))}\n          </div>\n\n          {/* Summary */}\n          <div className=\"mt-6 pt-4 border-t border-border\">\n            <div className=\"flex justify-between text-sm\">\n              <span className=\"text-muted-foreground\">Total Votes:</span>\n              <span className=\"font-medium\">{campaignInfo.totalVotes}</span>\n            </div>\n            {campaignInfo.restriction !== 0 && (\n              <div className=\"flex justify-between text-sm mt-1\">\n                <span className=\"text-muted-foreground\">Registered Voters:</span>\n                <span className=\"font-medium\">{getActualVoterCount(campaignInfo)}</span>\n              </div>\n            )}\n            <div className=\"flex justify-between text-sm mt-1\">\n              <span className=\"text-muted-foreground\">Participation Rate:</span>\n              <span className=\"font-medium\">\n                {campaignInfo.registeredVoterCount > 0 ? getParticipationRate(campaignInfo) : 0}%\n              </span>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3091, "column": 0}, "map": {"version":3,"sources":["file:///mnt/windows_d/manov/code/polytix-v1/components/ui/alert.jsx"],"sourcesContent":["import * as React from \"react\"\nimport { cva } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\"\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-card text-card-foreground\",\n        destructive:\n          \"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nfunction Alert({\n  className,\n  variant,\n  ...props\n}) {\n  return (\n    (<div\n      data-slot=\"alert\"\n      role=\"alert\"\n      className={cn(alertVariants({ variant }), className)}\n      {...props} />)\n  );\n}\n\nfunction AlertTitle({\n  className,\n  ...props\n}) {\n  return (\n    (<div\n      data-slot=\"alert-title\"\n      className={cn(\"col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight\", className)}\n      {...props} />)\n  );\n}\n\nfunction AlertDescription({\n  className,\n  ...props\n}) {\n  return (\n    (<div\n      data-slot=\"alert-description\"\n      className={cn(\n        \"text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed\",\n        className\n      )}\n      {...props} />)\n  );\n}\n\nexport { Alert, AlertTitle, AlertDescription }\n"],"names":[],"mappings":";;;;;;AAAA;AACA;AAEA;;;;;AAEA,MAAM,gBAAgB,CAAA,GAAA,gKAAA,CAAA,MAAG,AAAD,EACtB,qOACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,SAAS,MAAM,EACb,SAAS,EACT,OAAO,EACP,GAAG,OACJ;IACC,qBACG,8OAAC;QACA,aAAU;QACV,MAAK;QACL,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAEf;AAEA,SAAS,WAAW,EAClB,SAAS,EACT,GAAG,OACJ;IACC,qBACG,8OAAC;QACA,aAAU;QACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,+DAA+D;QAC5E,GAAG,KAAK;;;;;;AAEf;AAEA,SAAS,iBAAiB,EACxB,SAAS,EACT,GAAG,OACJ;IACC,qBACG,8OAAC;QACA,aAAU;QACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EACV,kGACA;QAED,GAAG,KAAK;;;;;;AAEf","debugId":null}},
    {"offset": {"line": 3158, "column": 0}, "map": {"version":3,"sources":["file:///mnt/windows_d/manov/code/polytix-v1/lib/error-handler.jsx"],"sourcesContent":["// src/lib/error-handler.js\n\nimport { toast } from \"sonner\";\n\n// Define known RPC error codes (optional but helpful for readability)\nconst ERROR_CODE_USER_REJECTED = 4001;\nconst ETHERS_ACTION_REJECTED = 'ACTION_REJECTED';\nconst ETHERS_CALL_EXCEPTION = 'CALL_EXCEPTION';\nconst ETHERS_INSUFFICIENT_FUNDS = 'INSUFFICIENT_FUNDS';\nconst ETHERS_NETWORK_ERROR = 'NETWORK_ERROR';\nconst ETHERS_NONCE_EXPIRED = 'NONCE_EXPIRED';\nconst ETHERS_REPLACEMENT_UNDERPRICED = 'REPLACEMENT_UNDERPRICED';\nconst ETHERS_UNPREDICTABLE_GAS_LIMIT = 'UNPREDICTABLE_GAS_LIMIT';\n\n/**\n * Parses RPC errors and displays a user-friendly toast notification.\n * @param {any} error The error object received from an RPC call (e.g., ethers.js, viem).\n * @param {string} [customPrefix] Optional prefix for the toast message (e.g., \"Registration failed\").\n */\nexport function handleRpcError(error, customPrefix) {\n  // Log the full error for developers in the console\n  console.error(\"RPC Error encountered:\", error);\n\n  let message = \"An unknown error occurred.\";\n  const prefix = customPrefix ? `${customPrefix}: ` : \"Error: \";\n\n  if (error) {\n    // Try to extract message based on common error structures\n    const code = error.code;\n    const reason = error.reason; // Often present in contract revert errors (ethers.js v5/v6)\n    const dataMessage = error.data?.message; // Sometimes nested message\n    const errorDataMessage = error.error?.data?.message; // Deeper nesting\n    const shortMessage = error?.shortMessage; // Viem style\n    const causeMessage = error?.cause?.shortMessage; // Viem nested style\n    const errorMessage = (error.message || '').toLowerCase(); // General message\n\n    // 1. User Rejected Transaction\n    if (\n      code === ERROR_CODE_USER_REJECTED ||\n      code === ETHERS_ACTION_REJECTED ||\n      errorMessage.includes(\"user rejected\") ||\n      errorMessage.includes(\"user denied\") ||\n      shortMessage?.includes(\"User rejected the request\")\n    ) {\n      message = \"Transaction rejected by user.\";\n    }\n    // 2. Contract Revert / Call Exception (ethers.js)\n    else if (code === ETHERS_CALL_EXCEPTION) {\n       message = reason ? `Transaction reverted: ${reason}` : \"Transaction failed: Contract execution reverted.\";\n       // Try to extract better reason if not directly available\n       if (!reason) {\n         const revertReasonMatch = errorMessage.match(/reason=\"([^\"]+)\"/);\n         if (revertReasonMatch?.[1]) {\n           message = `Transaction reverted: ${revertReasonMatch[1]}`;\n         } else if (errorMessage.includes('execution reverted')) {\n             const executionRevertedIndex = errorMessage.indexOf('execution reverted');\n             // Extract potential reason after 'execution reverted', clean it up\n             const potentialReason = errorMessage.substring(executionRevertedIndex + 'execution reverted'.length).trim().replace(/['\"`].*$/, '').replace(/^[:\\s]+/, '');\n             if (potentialReason && potentialReason.length < 100) { // Check if it looks like a reasonable reason\n                 message = `Transaction reverted: ${potentialReason}`;\n             }\n         }\n       }\n    }\n     // 3. Viem specific revert handling (more robust)\n    else if (shortMessage?.startsWith('execution reverted')) {\n        const detail = shortMessage.split('execution reverted: ')[1] || 'Reason not provided';\n        message = `Transaction reverted: ${detail}`;\n    } else if (causeMessage?.startsWith('execution reverted')) {\n        const detail = causeMessage.split('execution reverted: ')[1] || 'Reason not provided';\n        message = `Transaction reverted: ${detail}`;\n    }\n    // 4. Insufficient Funds\n    else if (\n      code === ETHERS_INSUFFICIENT_FUNDS ||\n      errorMessage.includes(\"insufficient funds\") ||\n      shortMessage?.includes(\"insufficient funds\")\n    ) {\n      message = \"Insufficient funds to complete the transaction.\";\n    }\n    // 5. Network Error\n    else if (code === ETHERS_NETWORK_ERROR) {\n      message = \"Network error. Please check your connection or RPC provider.\";\n    }\n    // 6. Nonce Issues\n    else if (\n        code === ETHERS_NONCE_EXPIRED ||\n        code === ETHERS_REPLACEMENT_UNDERPRICED ||\n        errorMessage.includes(\"nonce\") ||\n        shortMessage?.includes(\"nonce too low\") ||\n        shortMessage?.includes(\"replacement transaction underpriced\")\n    ) {\n        message = \"Transaction nonce error. Please try again, or reset your wallet account if the issue persists.\";\n    }\n    // 7. Gas Estimation Failed (often hides an underlying revert)\n    else if (\n        code === ETHERS_UNPREDICTABLE_GAS_LIMIT ||\n        shortMessage?.includes(\"cannot estimate gas\") ||\n        errorMessage.includes(\"gas required exceeds allowance\") // Another common cause\n        ) {\n        message = \"Cannot estimate gas. Transaction may fail.\";\n        // Attempt to find nested reason\n        const nestedReason = error.error?.message || errorDataMessage || causeMessage || '';\n        if (nestedReason.includes('execution reverted')) {\n             message += ` Potential reason: ${nestedReason.substring(nestedReason.indexOf('execution reverted'))}`;\n        } else if (nestedReason.includes(\"insufficient allowance\")) {\n             message += \" Check token allowance.\";\n        } else if (nestedReason.includes(\"insufficient balance\")) {\n            message = \"Insufficient funds.\"; // Overwrite if more specific\n        }\n    }\n    // 8. Other known reasons (extracted from messages)\n    else if (reason) {\n      message = `Transaction failed: ${reason}`;\n    } else if (shortMessage && shortMessage.length < 150) { // Use viem short message if reasonable\n        message = shortMessage;\n    } else if (dataMessage) {\n      message = dataMessage;\n    } else if (errorDataMessage) {\n      message = errorDataMessage;\n    }\n    // 9. Fallback to generic error message if available and reasonable length\n    else if (error.message && error.message.length < 150) {\n      message = error.message;\n    }\n  }\n\n  // Display the toast notification using sonner\n  toast.error(`${prefix}${message}`);\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3251, "column": 0}, "map": {"version":3,"sources":["file:///mnt/windows_d/manov/code/polytix-v1/app/campaigns/%5Bid%5D/_components/tabs/vote-tab.jsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { Card, CardContent, CardDescription, CardFooter, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Alert, AlertDescription } from \"@/components/ui/alert\"\nimport { AlertCircle, Check, ThumbsUp, Users, Flame, X } from \"lucide-react\"\nimport { useContract } from \"@/context/contract-context\"\nimport { formatAddress, resolveIpfsUrl, isUserCandidate } from \"@/lib/utils\"\nimport { toast } from \"sonner\"\nimport { handleRpcError } from \"@/lib/error-handler\"\nimport { motion, AnimatePresence } from \"framer-motion\"\n\nexport default function VoteTab({\n  campaignInfo,\n  proposals,\n  candidates,\n  isConnected,\n  userIsRegistered,\n  userHasVoted,\n  needsRegistration,\n  address,\n  onVote,\n  campaignId,\n}) {\n  const { contract } = useContract()\n  const [selectedItem, setSelectedItem] = useState(null)\n  const [isSubmitting, setIsSubmitting] = useState(false)\n  const [showNftOverlay, setShowNftOverlay] = useState(false)\n  const [isBurningNft, setIsBurningNft] = useState(false)\n  const [burnStatus, setBurnStatus] = useState(null) // null, 'success', 'kept'\n\n  // Check if the current user is a candidate\n  const userIsCandidate = isUserCandidate(address, candidates)\n\n  // Set a timer to show the NFT burn overlay after successful vote\n  useEffect(() => {\n    let timer\n    if (userHasVoted && !showNftOverlay && burnStatus === null) {\n      timer = setTimeout(() => {\n        setShowNftOverlay(true)\n      }, 5000) // 5 second delay\n    }\n\n    return () => {\n      if (timer) clearTimeout(timer)\n    }\n  }, [userHasVoted, showNftOverlay, burnStatus])\n\n  const handleVote = async () => {\n    if (!contract || selectedItem === null || isSubmitting) return\n\n    try {\n      setIsSubmitting(true)\n\n      let tx\n      if (campaignInfo.votingType === 1 /* ProposalBased */) {\n        // Vote for proposal\n        tx = await contract.voteForProposal(campaignId, selectedItem)\n      } else {\n        // Vote for candidate\n        tx = await contract.voteForCandidate(campaignId, selectedItem)\n      }\n\n      toast.promise(tx.wait(), {\n        loading: \"Submitting your vote...\",\n        success: \"Your vote has been recorded!\",\n        error: \"Failed to submit vote\",\n      })\n\n      await tx.wait()\n\n      // Refresh data\n      onVote()\n    } catch (error) {\n      console.error(\"Error voting:\", error)\n      handleRpcError(error)\n    } finally {\n      setIsSubmitting(false)\n    }\n  }\n\n  const handleBurnNft = async () => {\n    if (!contract || isBurningNft) return\n\n    try {\n      setIsBurningNft(true)\n\n      // Call the burnMyVotingNFT function\n      const tx = await contract.burnMyVotingNFT(campaignId)\n\n      toast.promise(tx.wait(), {\n        loading: \"Burning your voting NFT...\",\n        success: \"Your voting NFT has been burned successfully!\",\n        error: \"Failed to burn voting NFT\",\n      })\n\n      await tx.wait()\n      setBurnStatus(\"success\")\n\n      // Close overlay after a short delay\n      setTimeout(() => {\n        setShowNftOverlay(false)\n      }, 3000)\n    } catch (error) {\n      console.error(\"Error burning NFT:\", error)\n      handleRpcError(error)\n    } finally {\n      setIsBurningNft(false)\n    }\n  }\n\n  const handleKeepNft = () => {\n    setBurnStatus(\"kept\")\n    // Close overlay after a short delay\n    setTimeout(() => {\n      setShowNftOverlay(false)\n    }, 3000)\n  }\n\n  // If user is not connected, show connect wallet message\n  if (!isConnected) {\n    return (\n      <Card className=\"border-purple-900/20 bg-gradient-to-r from-gray-50 to-purple-50 dark:from-gray-950 dark:to-purple-950/20\">\n        <CardHeader>\n          <CardTitle className=\"text-gray-900 dark:text-gray-100\">Voting</CardTitle>\n          <CardDescription className=\"text-gray-700 dark:text-gray-300\">\n            Connect your wallet to participate in this campaign\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          <Alert className=\"border-amber-200 bg-amber-50 dark:bg-amber-950/20 dark:border-amber-900\">\n            <AlertCircle className=\"h-4 w-4 text-amber-600 dark:text-amber-400\" />\n            <AlertDescription className=\"text-amber-800 dark:text-amber-300 ml-2\">\n              You need to connect your wallet to participate in this voting campaign.\n            </AlertDescription>\n          </Alert>\n        </CardContent>\n      </Card>\n    )\n  }\n\n  // If user is a candidate, show special message\n  if (userIsCandidate) {\n    return (\n      <Card className=\"border-purple-900/20 bg-gradient-to-r from-gray-50 to-purple-50 dark:from-gray-950 dark:to-purple-950/20\">\n        <CardHeader>\n          <CardTitle className=\"text-gray-900 dark:text-gray-100\">You are a Candidate</CardTitle>\n          <CardDescription className=\"text-gray-700 dark:text-gray-300\">\n            As a candidate, you cannot vote in this campaign\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          <Alert className=\"border-purple-200 bg-purple-50 dark:bg-purple-950/20 dark:border-purple-900\">\n            <ThumbsUp className=\"h-4 w-4 text-purple-600 dark:text-purple-400\" />\n            <AlertDescription className=\"text-purple-800 dark:text-purple-300 ml-2\">\n              You are a registered candidate in this event. We hope that you win. Your candidacy is now active, and\n              voters can cast their votes for you during the voting period.\n            </AlertDescription>\n          </Alert>\n        </CardContent>\n      </Card>\n    )\n  }\n\n  // If registration is required but user is not registered\n  if (needsRegistration && !userIsRegistered) {\n    return (\n      <Card className=\"border-purple-900/20 bg-gradient-to-r from-gray-50 to-purple-50 dark:from-gray-950 dark:to-purple-950/20\">\n        <CardHeader>\n          <CardTitle className=\"text-gray-900 dark:text-gray-100\">Voting</CardTitle>\n          <CardDescription className=\"text-gray-700 dark:text-gray-300\">Registration required to vote</CardDescription>\n        </CardHeader>\n        <CardContent>\n          <Alert className=\"border-amber-200 bg-amber-50 dark:bg-amber-950/20 dark:border-amber-900\">\n            <AlertCircle className=\"h-4 w-4 text-amber-600 dark:text-amber-400\" />\n            <AlertDescription className=\"text-amber-800 dark:text-amber-300 ml-2\">\n              You need to be registered to participate in this voting campaign. Please go to the Register tab to\n              register.\n            </AlertDescription>\n          </Alert>\n        </CardContent>\n      </Card>\n    )\n  }\n\n  // If user has already voted\n  if (userHasVoted) {\n    return (\n      <Card className=\"border-purple-900/20 bg-gradient-to-r from-gray-50 to-purple-50 dark:from-gray-950 dark:to-purple-950/20\">\n        <CardHeader>\n          <CardTitle className=\"text-gray-900 dark:text-gray-100\">Thank You for Voting</CardTitle>\n          <CardDescription className=\"text-gray-700 dark:text-gray-300\">Your vote has been recorded</CardDescription>\n        </CardHeader>\n        <CardContent>\n          <Alert className=\"border-purple-200 bg-purple-50 dark:bg-purple-950/20 dark:border-purple-900\">\n            <Check className=\"h-4 w-4 text-purple-600 dark:text-purple-400\" />\n            <AlertDescription className=\"text-purple-800 dark:text-purple-300 ml-2\">\n              Thanks for voting using Polytix! We hope your desired{\" \"}\n              {campaignInfo.votingType === 0 ? \"candidate\" : \"proposal\"} wins. Keep your fingers crossed and wait for\n              the results to be announced.\n            </AlertDescription>\n          </Alert>\n\n          {/* NFT Burn Overlay */}\n          <AnimatePresence>\n            {showNftOverlay && (\n              <motion.div\n                initial={{ opacity: 0, scale: 0.9 }}\n                animate={{ opacity: 1, scale: 1 }}\n                exit={{ opacity: 0, scale: 0.9 }}\n                transition={{ duration: 0.3 }}\n                className=\"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm\"\n              >\n                <motion.div\n                  className=\"bg-white dark:bg-gray-900 rounded-lg shadow-xl max-w-md w-full p-6 border border-purple-200 dark:border-purple-800\"\n                  initial={{ y: 20 }}\n                  animate={{ y: 0 }}\n                  transition={{ delay: 0.1 }}\n                >\n                  <div className=\"absolute top-4 right-4\">\n                    <Button\n                      variant=\"ghost\"\n                      size=\"icon\"\n                      onClick={() => setShowNftOverlay(false)}\n                      className=\"h-8 w-8 rounded-full\"\n                    >\n                      <X className=\"h-4 w-4\" />\n                    </Button>\n                  </div>\n\n                  {burnStatus === null && (\n                    <>\n                      <div className=\"text-center mb-6\">\n                        <div className=\"bg-purple-100 dark:bg-purple-900/30 p-3 rounded-full inline-flex items-center justify-center mb-4\">\n                          <Flame className=\"h-8 w-8 text-purple-700 dark:text-purple-400\" />\n                        </div>\n                        <h3 className=\"text-xl font-bold text-gray-900 dark:text-gray-100 mb-2\">Voting NFT Options</h3>\n                        <p className=\"text-gray-600 dark:text-gray-400\">\n                          You received an NFT for participating in this vote. Would you like to burn it or keep it as a\n                          memento?\n                        </p>\n                      </div>\n                      <div className=\"grid grid-cols-2 gap-4\">\n                        <Button\n                          variant=\"outline\"\n                          onClick={handleKeepNft}\n                          className=\"border-purple-200 dark:border-purple-800 hover:bg-purple-50 dark:hover:bg-purple-900/20\"\n                        >\n                          Keep NFT\n                        </Button>\n                        <Button\n                          variant=\"default\"\n                          onClick={handleBurnNft}\n                          disabled={isBurningNft}\n                          className=\"bg-purple-700 hover:bg-purple-800 text-white dark:bg-purple-600 dark:hover:bg-purple-700\"\n                        >\n                          {isBurningNft ? \"Burning...\" : \"Burn NFT\"}\n                        </Button>\n                      </div>\n                    </>\n                  )}\n\n                  {burnStatus === \"success\" && (\n                    <div className=\"text-center\">\n                      <div className=\"bg-green-100 dark:bg-green-900/30 p-3 rounded-full inline-flex items-center justify-center mb-4\">\n                        <Flame className=\"h-8 w-8 text-green-700 dark:text-green-400\" />\n                      </div>\n                      <h3 className=\"text-xl font-bold text-gray-900 dark:text-gray-100 mb-2\">\n                        NFT Burned Successfully\n                      </h3>\n                      <p className=\"text-gray-600 dark:text-gray-400\">\n                        Your voting NFT has been successfully burned. Thank you for participating!\n                      </p>\n                    </div>\n                  )}\n\n                  {burnStatus === \"kept\" && (\n                    <div className=\"text-center\">\n                      <div className=\"bg-blue-100 dark:bg-blue-900/30 p-3 rounded-full inline-flex items-center justify-center mb-4\">\n                        <Check className=\"h-8 w-8 text-blue-700 dark:text-blue-400\" />\n                      </div>\n                      <h3 className=\"text-xl font-bold text-gray-900 dark:text-gray-100 mb-2\">NFT Kept</h3>\n                      <p className=\"text-gray-600 dark:text-gray-400\">\n                        You've chosen to keep your voting NFT as a memento of your participation in this campaign.\n                      </p>\n                    </div>\n                  )}\n                </motion.div>\n              </motion.div>\n            )}\n          </AnimatePresence>\n        </CardContent>\n      </Card>\n    )\n  }\n\n  return (\n    <Card className=\"border-purple-900/20 bg-gradient-to-r from-gray-50 to-purple-50 dark:from-gray-950 dark:to-purple-950/20\">\n      <CardHeader>\n        <CardTitle className=\"text-gray-900 dark:text-gray-100\">Cast Your Vote</CardTitle>\n        <CardDescription className=\"text-gray-700 dark:text-gray-300\">\n          Select {campaignInfo.votingType === 0 ? \"a candidate\" : \"a proposal\"} to vote for\n        </CardDescription>\n      </CardHeader>\n      <CardContent>\n        <div className=\"space-y-4\">\n          {campaignInfo.votingType === 1 /* ProposalBased */\n            ? // Proposal voting UI\n              proposals.map((proposal) => (\n                <div\n                  key={proposal.id}\n                  className={`p-4 rounded-lg border-2 cursor-pointer transition-colors ${\n                    selectedItem === proposal.id\n                      ? \"border-purple-700 bg-purple-50 dark:border-purple-500 dark:bg-purple-900/20\"\n                      : \"border-gray-200 dark:border-gray-700 hover:border-purple-300 dark:hover:border-purple-700 hover:bg-gray-50 dark:hover:bg-gray-900/50\"\n                  }`}\n                  onClick={() => setSelectedItem(proposal.id)}\n                >\n                  <div className=\"flex items-start justify-between\">\n                    <div className=\"space-y-1\">\n                      <h3 className=\"font-medium text-gray-900 dark:text-gray-100\">Proposal {proposal.id + 1}</h3>\n                      <p className=\"text-sm text-gray-600 dark:text-gray-400\">{proposal.content}</p>\n                    </div>\n                    {selectedItem === proposal.id && (\n                      <Badge className=\"ml-2 bg-purple-700 text-white dark:bg-purple-600\">Selected</Badge>\n                    )}\n                  </div>\n                </div>\n              ))\n            : // Candidate voting UI\n              candidates.map((candidate) => (\n                <div\n                  key={candidate.id}\n                  className={`p-4 rounded-lg border-2 cursor-pointer transition-colors ${\n                    selectedItem === candidate.id\n                      ? \"border-purple-700 bg-purple-50 dark:border-purple-500 dark:bg-purple-900/20\"\n                      : \"border-gray-200 dark:border-gray-700 hover:border-purple-300 dark:hover:border-purple-700 hover:bg-gray-50 dark:hover:bg-gray-900/50\"\n                  }`}\n                  onClick={() => setSelectedItem(candidate.id)}\n                >\n                  <div className=\"flex items-start\">\n                    {/* Candidate image */}\n                    <div className=\"mr-4 flex-shrink-0\">\n                      {candidate.imageHash ? (\n                        <img\n                          src={resolveIpfsUrl(candidate.imageHash) || \"/placeholder.svg\"}\n                          alt={`${candidate.name}'s profile`}\n                          className={`w-20 h-20 rounded-full object-cover border-2 ${\n                            selectedItem === candidate.id\n                              ? \"border-purple-700 dark:border-purple-500\"\n                              : \"border-gray-200 dark:border-gray-700\"\n                          }`}\n                          onError={(e) => {\n                            e.target.onerror = null\n                            e.target.src = \"/placeholder-profile.png\"\n                          }}\n                        />\n                      ) : (\n                        <div\n                          className={`w-20 h-20 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center border-2 ${\n                            selectedItem === candidate.id\n                              ? \"border-purple-700 dark:border-purple-500\"\n                              : \"border-gray-200 dark:border-gray-700\"\n                          }`}\n                        >\n                          <Users className=\"h-8 w-8 text-gray-500 dark:text-gray-400\" />\n                        </div>\n                      )}\n                    </div>\n\n                    <div className=\"flex-grow\">\n                      <div className=\"flex justify-between items-start\">\n                        <div className=\"space-y-1\">\n                          <h3 className=\"font-medium text-gray-900 dark:text-gray-100\">{candidate.name}</h3>\n                          <p className=\"text-xs text-gray-500 dark:text-gray-500\">{formatAddress(candidate.address)}</p>\n                          <p className=\"text-sm text-gray-600 dark:text-gray-400\">{candidate.statement}</p>\n                        </div>\n                        {selectedItem === candidate.id && (\n                          <Badge className=\"ml-2 bg-purple-700 text-white dark:bg-purple-600\">Selected</Badge>\n                        )}\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              ))}\n        </div>\n      </CardContent>\n      <CardFooter>\n        <Button\n          className=\"w-full bg-purple-700 hover:bg-purple-800 text-white dark:bg-purple-600 dark:hover:bg-purple-700\"\n          disabled={selectedItem === null || isSubmitting}\n          onClick={handleVote}\n        >\n          {isSubmitting ? \"Submitting...\" : \"Submit Vote\"}\n        </Button>\n      </CardFooter>\n    </Card>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4094, "column": 0}, "map": {"version":3,"sources":["file:///mnt/windows_d/manov/code/polytix-v1/components/ui/input.jsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Input({\n  className,\n  type,\n  ...props\n}) {\n  return (\n    (<input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        \"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        \"focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]\",\n        \"aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n        className\n      )}\n      {...props} />)\n  );\n}\n\nexport { Input }\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;;AAEA,SAAS,MAAM,EACb,SAAS,EACT,IAAI,EACJ,GAAG,OACJ;IACC,qBACG,8OAAC;QACA,MAAM;QACN,aAAU;QACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EACV,mcACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAEf","debugId":null}},
    {"offset": {"line": 4122, "column": 0}, "map": {"version":3,"sources":["file:///mnt/windows_d/manov/code/polytix-v1/components/ui/textarea.jsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Textarea({\n  className,\n  ...props\n}) {\n  return (\n    (<textarea\n      data-slot=\"textarea\"\n      className={cn(\n        \"border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className\n      )}\n      {...props} />)\n  );\n}\n\nexport { Textarea }\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;;AAEA,SAAS,SAAS,EAChB,SAAS,EACT,GAAG,OACJ;IACC,qBACG,8OAAC;QACA,aAAU;QACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EACV,ucACA;QAED,GAAG,KAAK;;;;;;AAEf","debugId":null}},
    {"offset": {"line": 4149, "column": 0}, "map": {"version":3,"sources":["file:///mnt/windows_d/manov/code/polytix-v1/components/ui/label.jsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Label({\n  className,\n  ...props\n}) {\n  return (\n    (<LabelPrimitive.Root\n      data-slot=\"label\"\n      className={cn(\n        \"flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50\",\n        className\n      )}\n      {...props} />)\n  );\n}\n\nexport { Label }\n"],"names":[],"mappings":";;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,SAAS,MAAM,EACb,SAAS,EACT,GAAG,OACJ;IACC,qBACG,8OAAC,iKAAA,CAAA,OAAmB;QACnB,aAAU;QACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EACV,uNACA;QAED,GAAG,KAAK;;;;;;AAEf","debugId":null}},
    {"offset": {"line": 4179, "column": 0}, "map": {"version":3,"sources":["file:///mnt/windows_d/manov/code/polytix-v1/components/ui/file-upload.jsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport { useDropzone } from \"react-dropzone\"\nimport { UploadCloud, X, Loader2 } from \"lucide-react\"\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\n\n\nexport function FileUpload({\n  className,\n  onFileChange,\n  onUploadComplete,\n  accept = {\n    \"image/*\": [\".png\", \".jpg\", \".jpeg\", \".gif\"],\n  },\n  maxSize = 5 * 1024 * 1024, // 5MB\n  value,\n  isUploading = false,\n  ...props\n}) {\n  const [preview, setPreview] = React.useState(value || null)\n\n  const onDrop = React.useCallback(\n    (acceptedFiles) => {\n      if (acceptedFiles?.length) {\n        const file = acceptedFiles[0]\n        onFileChange(file)\n\n        // Create preview\n        const objectUrl = URL.createObjectURL(file)\n        setPreview(objectUrl)\n\n        return () => URL.revokeObjectURL(objectUrl)\n      }\n    },\n    [onFileChange],\n  )\n\n  const { getRootProps, getInputProps, isDragActive, fileRejections } = useDropzone({\n    onDrop,\n    accept,\n    maxSize,\n    multiple: false,\n  })\n\n  const clearFile = (e) => {\n    e.stopPropagation()\n    setPreview(null)\n    onFileChange(null)\n  }\n\n  React.useEffect(() => {\n    if (value) {\n      setPreview(value)\n    }\n  }, [value])\n\n  const hasError = fileRejections.length > 0\n  const errorMessage = hasError\n    ? fileRejections[0]?.errors[0]?.code === \"file-too-large\"\n      ? `File is too large. Max size is ${maxSize / (1024 * 1024)}MB`\n      : \"Invalid file type\"\n    : null\n\n  return (\n    <div className={cn(\"w-full\", className)} {...props}>\n      <div\n        {...getRootProps()}\n        className={cn(\n          \"relative flex flex-col items-center justify-center w-full p-6 border-2 border-dashed rounded-lg cursor-pointer transition-colors\",\n          isDragActive ? \"border-primary bg-primary/5\" : \"border-border hover:bg-muted/50\",\n          hasError && \"border-destructive bg-destructive/5\",\n          preview && \"p-2\",\n        )}\n      >\n        <input {...getInputProps()} />\n\n        {isUploading && (\n          <div className=\"absolute inset-0 flex items-center justify-center bg-background/80 rounded-lg z-10\">\n            <Loader2 className=\"h-8 w-8 text-primary animate-spin\" />\n          </div>\n        )}\n\n        {preview ? (\n          <div className=\"relative w-full h-full\">\n            <img\n              src={preview || \"/placeholder.svg\"}\n              alt=\"Preview\"\n              className=\"w-full h-[200px] object-cover rounded-md\"\n            />\n            <Button\n              type=\"button\"\n              variant=\"destructive\"\n              size=\"icon\"\n              className=\"absolute top-2 right-2 h-6 w-6\"\n              onClick={clearFile}\n            >\n              <X className=\"h-4 w-4\" />\n            </Button>\n          </div>\n        ) : (\n          <div className=\"flex flex-col items-center justify-center py-4\">\n            <UploadCloud className=\"w-10 h-10 mb-2 text-muted-foreground\" />\n            <p className=\"mb-1 text-sm text-muted-foreground\">\n              <span className=\"font-semibold\">Click to upload</span> or drag and drop\n            </p>\n            <p className=\"text-xs text-muted-foreground\">PNG, JPG or GIF (max. {maxSize / (1024 * 1024)}MB)</p>\n          </div>\n        )}\n      </div>\n\n      {errorMessage && <p className=\"mt-1 text-xs text-destructive\">{errorMessage}</p>}\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AANA;;;;;;;AASO,SAAS,WAAW,EACzB,SAAS,EACT,YAAY,EACZ,gBAAgB,EAChB,SAAS;IACP,WAAW;QAAC;QAAQ;QAAQ;QAAS;KAAO;AAC9C,CAAC,EACD,UAAU,IAAI,OAAO,IAAI,EACzB,KAAK,EACL,cAAc,KAAK,EACnB,GAAG,OACJ;IACC,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAc,AAAD,EAAE,SAAS;IAEtD,MAAM,SAAS,CAAA,GAAA,qMAAA,CAAA,cAAiB,AAAD,EAC7B,CAAC;QACC,IAAI,eAAe,QAAQ;YACzB,MAAM,OAAO,aAAa,CAAC,EAAE;YAC7B,aAAa;YAEb,iBAAiB;YACjB,MAAM,YAAY,IAAI,eAAe,CAAC;YACtC,WAAW;YAEX,OAAO,IAAM,IAAI,eAAe,CAAC;QACnC;IACF,GACA;QAAC;KAAa;IAGhB,MAAM,EAAE,YAAY,EAAE,aAAa,EAAE,YAAY,EAAE,cAAc,EAAE,GAAG,CAAA,GAAA,wKAAA,CAAA,cAAW,AAAD,EAAE;QAChF;QACA;QACA;QACA,UAAU;IACZ;IAEA,MAAM,YAAY,CAAC;QACjB,EAAE,eAAe;QACjB,WAAW;QACX,aAAa;IACf;IAEA,CAAA,GAAA,qMAAA,CAAA,YAAe,AAAD,EAAE;QACd,IAAI,OAAO;YACT,WAAW;QACb;IACF,GAAG;QAAC;KAAM;IAEV,MAAM,WAAW,eAAe,MAAM,GAAG;IACzC,MAAM,eAAe,WACjB,cAAc,CAAC,EAAE,EAAE,MAAM,CAAC,EAAE,EAAE,SAAS,mBACrC,CAAC,+BAA+B,EAAE,UAAU,CAAC,OAAO,IAAI,EAAE,EAAE,CAAC,GAC7D,sBACF;IAEJ,qBACE,8OAAC;QAAI,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,UAAU;QAAa,GAAG,KAAK;;0BAChD,8OAAC;gBACE,GAAG,cAAc;gBAClB,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EACV,oIACA,eAAe,gCAAgC,mCAC/C,YAAY,uCACZ,WAAW;;kCAGb,8OAAC;wBAAO,GAAG,eAAe;;;;;;oBAEzB,6BACC,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC,iNAAA,CAAA,UAAO;4BAAC,WAAU;;;;;;;;;;;oBAItB,wBACC,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCACC,KAAK,WAAW;gCAChB,KAAI;gCACJ,WAAU;;;;;;0CAEZ,8OAAC,2HAAA,CAAA,SAAM;gCACL,MAAK;gCACL,SAAQ;gCACR,MAAK;gCACL,WAAU;gCACV,SAAS;0CAET,cAAA,8OAAC,4LAAA,CAAA,IAAC;oCAAC,WAAU;;;;;;;;;;;;;;;;6CAIjB,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,oNAAA,CAAA,cAAW;gCAAC,WAAU;;;;;;0CACvB,8OAAC;gCAAE,WAAU;;kDACX,8OAAC;wCAAK,WAAU;kDAAgB;;;;;;oCAAsB;;;;;;;0CAExD,8OAAC;gCAAE,WAAU;;oCAAgC;oCAAuB,UAAU,CAAC,OAAO,IAAI;oCAAE;;;;;;;;;;;;;;;;;;;YAKjG,8BAAgB,8OAAC;gBAAE,WAAU;0BAAiC;;;;;;;;;;;;AAGrE","debugId":null}},
    {"offset": {"line": 4376, "column": 0}, "map": {"version":3,"sources":["file:///mnt/windows_d/manov/code/polytix-v1/app/campaigns/%5Bid%5D/_components/tabs/register-tab.jsx"],"sourcesContent":["\"use client\"\n\nimport { useState } from \"react\"\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Textarea } from \"@/components/ui/textarea\"\nimport { Label } from \"@/components/ui/label\"\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\"\nimport { Alert, AlertDescription } from \"@/components/ui/alert\"\nimport { Check, UserPlus, User, Info, Upload, Sparkles } from \"lucide-react\"\nimport { useContract } from \"@/context/contract-context\"\nimport { toast } from \"sonner\"\nimport { handleRpcError } from \"@/lib/error-handler\"\nimport { FileUpload } from \"@/components/ui/file-upload\"\n\nexport default function RegisterTab({ campaignInfo, userIsRegistered, onRegister, campaignId }) {\n  const { contract } = useContract()\n  const [activeTab, setActiveTab] = useState(\"voter\")\n  const [voterPassKey, setVoterPassKey] = useState(\"\")\n  const [isSubmittingVoter, setIsSubmittingVoter] = useState(false)\n\n  const [candidateForm, setCandidateForm] = useState({\n    name: \"\",\n    statement: \"\",\n    imageHash: \"\",\n    passKey: \"\",\n  })\n  const [isSubmittingCandidate, setIsSubmittingCandidate] = useState(false)\n  const [selectedFile, setSelectedFile] = useState(null)\n  const [isUploading, setIsUploading] = useState(false)\n  const [registrationStep, setRegistrationStep] = useState(0) // 0: not started, 1: uploading, 2: minting, 3: registering\n\n  const handleCandidateChange = (e) => {\n    const { name, value } = e.target\n    setCandidateForm((prev) => ({\n      ...prev,\n      [name]: value,\n    }))\n  }\n\n  const handleFileChange = (file) => {\n    setSelectedFile(file)\n    // Clear the imageHash if file is removed\n    if (!file) {\n      setCandidateForm((prev) => ({\n        ...prev,\n        imageHash: \"\",\n      }))\n    }\n  }\n\n  const uploadToIPFS = async () => {\n    if (!selectedFile) return null\n\n    setIsUploading(true)\n    setRegistrationStep(1) // Uploading\n\n    try {\n      const formData = new FormData()\n      formData.append(\"file\", selectedFile)\n\n      toast.loading(\"Uploading image to IPFS...\", {\n        id: \"upload-image\",\n      })\n\n      const response = await fetch(\"/api/upload\", {\n        method: \"POST\",\n        body: formData,\n      })\n\n      const data = await response.json()\n\n      if (!response.ok) {\n        throw new Error(data.error || \"Failed to upload image\")\n      }\n\n      // Set the IPFS hash in the form\n      setCandidateForm((prev) => ({\n        ...prev,\n        imageHash: data.ipfsHash,\n      }))\n\n      toast.success(\"Image uploaded successfully!\", {\n        id: \"upload-image\",\n      })\n      return data.ipfsHash\n    } catch (error) {\n      console.error(\"Error uploading to IPFS:\", error)\n      toast.error(error.message || \"Failed to upload image\", {\n        id: \"upload-image\",\n      })\n      return null\n    } finally {\n      setIsUploading(false)\n    }\n  }\n\n  const handleVoterRegister = async (e) => {\n    e.preventDefault()\n    if (!contract || isSubmittingVoter) return\n\n    try {\n      setIsSubmittingVoter(true)\n\n      // Call the contract's registerToVote function\n      const tx = await contract.registerToVote(campaignId, voterPassKey)\n\n      toast.loading(\"Minting your voting NFT...\", {\n        id: \"register-voter\",\n      })\n      setRegistrationStep(2) // Minting\n\n      await tx.wait()\n\n      toast.success(\"Successfully registered as a voter!\", {\n        id: \"register-voter\",\n      })\n      setRegistrationStep(3) // Registered\n\n      // Clear form and refresh data\n      setVoterPassKey(\"\")\n      onRegister()\n    } catch (error) {\n      console.error(\"Error registering as voter:\", error)\n      handleRpcError(error)\n      setRegistrationStep(0) // Reset\n    } finally {\n      setIsSubmittingVoter(false)\n    }\n  }\n\n  const handleCandidateRegister = async (e) => {\n    e.preventDefault()\n    if (!contract || isSubmittingCandidate) return\n\n    try {\n      setIsSubmittingCandidate(true)\n\n      // Upload image to IPFS if selected\n      let imageHash = candidateForm.imageHash\n      if (selectedFile) {\n        setRegistrationStep(1) // Uploading\n        const uploadedHash = await uploadToIPFS()\n        if (uploadedHash) {\n          imageHash = uploadedHash\n        }\n      }\n\n      // Call the contract's registerAsCandidate function\n      setRegistrationStep(2) // Minting\n      toast.loading(\"Minting your candidate NFT...\", {\n        id: \"register-candidate\",\n      })\n\n      const tx = await contract.registerAsCandidate(\n        campaignId,\n        candidateForm.name,\n        candidateForm.statement,\n        imageHash,\n        candidateForm.passKey,\n      )\n\n      toast.loading(\"Registering as candidate...\", {\n        id: \"register-candidate\",\n      })\n\n      await tx.wait()\n\n      toast.success(\"Successfully registered as a candidate!\", {\n        id: \"register-candidate\",\n      })\n      setRegistrationStep(3) // Registered\n\n      // Clear form and refresh data\n      setCandidateForm({\n        name: \"\",\n        statement: \"\",\n        imageHash: \"\",\n        passKey: \"\",\n      })\n      setSelectedFile(null)\n      onRegister()\n    } catch (error) {\n      console.error(\"Error registering as candidate:\", error)\n      handleRpcError(error)\n      setRegistrationStep(0) // Reset\n    } finally {\n      setIsSubmittingCandidate(false)\n    }\n  }\n\n  // If user is already registered\n  if (userIsRegistered) {\n    return (\n      <Card>\n        <CardHeader>\n          <CardTitle>Registration</CardTitle>\n          <CardDescription>You are already registered for this campaign</CardDescription>\n        </CardHeader>\n        <CardContent>\n          <Alert className=\"border-green-200 bg-green-50 dark:bg-green-950/20 dark:border-green-900\">\n            <Check className=\"h-4 w-4 text-green-600 dark:text-green-400\" />\n            <AlertDescription className=\"text-green-800 dark:text-green-300 ml-2\">\n              You have successfully registered for this campaign. You can participate when voting begins.\n            </AlertDescription>\n          </Alert>\n        </CardContent>\n      </Card>\n    )\n  }\n\n  // Registration explanation for registration-required campaigns\n  const renderRegistrationExplanation = () => (\n    <Alert className=\"mb-6 border-blue-200 bg-blue-50 dark:bg-blue-950/20 dark:border-blue-900\">\n      <Info className=\"h-4 w-4 text-blue-600 dark:text-blue-400\" />\n      <AlertDescription className=\"text-blue-800 dark:text-blue-300 ml-2 text-sm\">\n        <p className=\"font-medium mb-1\">About Registration NFTs</p>\n        <p>\n          When you register for voting, we mint an NFT for verification. This NFT has no financial value and loses its\n          utility once you have voted. You can either keep it as proof of your participation, or burn it after voting.\n        </p>\n        <p className=\"mt-1 text-xs\">Note: Burning the NFT requires gas fees as it is an on-chain transaction.</p>\n      </AlertDescription>\n    </Alert>\n  )\n\n  // Registration steps indicator\n  const renderRegistrationSteps = () => {\n    if (registrationStep === 0) return null\n\n    const steps = [\n      { label: \"Uploading Image\", icon: <Upload className=\"h-4 w-4\" />, active: registrationStep === 1 },\n      { label: \"Minting NFT\", icon: <Sparkles className=\"h-4 w-4\" />, active: registrationStep === 2 },\n      { label: \"Registering\", icon: <Check className=\"h-4 w-4\" />, active: registrationStep === 3 },\n    ]\n\n    return (\n      <div className=\"flex items-center justify-center space-x-2 mb-6\">\n        {steps.map((step, index) => (\n          <div key={index} className=\"flex items-center\">\n            {index > 0 && (\n              <div\n                className={`h-0.5 w-8 ${index <= registrationStep ? \"bg-purple-500\" : \"bg-gray-300 dark:bg-gray-700\"}`}\n              ></div>\n            )}\n            <div\n              className={`flex items-center justify-center w-8 h-8 rounded-full ${\n                index < registrationStep\n                  ? \"bg-green-100 text-green-600 dark:bg-green-900/30 dark:text-green-400\"\n                  : index === registrationStep\n                    ? \"bg-purple-100 text-purple-600 dark:bg-purple-900/30 dark:text-purple-400 animate-pulse\"\n                    : \"bg-gray-100 text-gray-400 dark:bg-gray-800 dark:text-gray-500\"\n              }`}\n            >\n              {index < registrationStep ? <Check className=\"h-4 w-4\" /> : step.icon}\n            </div>\n          </div>\n        ))}\n      </div>\n    )\n  }\n\n  return (\n    <Card>\n      <CardHeader>\n        <CardTitle>Register for Campaign</CardTitle>\n        <CardDescription>Register to participate in this voting campaign</CardDescription>\n      </CardHeader>\n      <CardContent>\n        {renderRegistrationExplanation()}\n        {renderRegistrationSteps()}\n\n        <Tabs defaultValue=\"voter\" value={activeTab} onValueChange={setActiveTab}>\n          <TabsList className=\"grid w-full grid-cols-2 mb-6\">\n            <TabsTrigger value=\"voter\" className=\"flex items-center gap-2\">\n              <User className=\"h-4 w-4\" />\n              <span>Register as Voter</span>\n            </TabsTrigger>\n            {campaignInfo.votingType === 0 && (\n              <TabsTrigger value=\"candidate\" className=\"flex items-center gap-2\">\n                <UserPlus className=\"h-4 w-4\" />\n                <span>Register as Candidate</span>\n              </TabsTrigger>\n            )}\n          </TabsList>\n\n          <TabsContent value=\"voter\">\n            <form onSubmit={handleVoterRegister}>\n              <div className=\"space-y-4\">\n                {campaignInfo.restriction === 2 && (\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"voterPassKey\">Passkey</Label>\n                    <Input\n                      id=\"voterPassKey\"\n                      type=\"password\"\n                      placeholder=\"Enter the campaign passkey\"\n                      value={voterPassKey}\n                      onChange={(e) => setVoterPassKey(e.target.value)}\n                      required={campaignInfo.restriction === 2}\n                    />\n                    <p className=\"text-xs text-muted-foreground\">\n                      The passkey is required to verify your eligibility to vote in this campaign.\n                    </p>\n                  </div>\n                )}\n\n                <Button\n                  type=\"submit\"\n                  className=\"w-full\"\n                  disabled={(campaignInfo.restriction === 2 && !voterPassKey) || isSubmittingVoter}\n                >\n                  {isSubmittingVoter ? \"Registering...\" : \"Register as Voter\"}\n                </Button>\n              </div>\n            </form>\n          </TabsContent>\n\n          {campaignInfo.votingType === 0 && (\n            <TabsContent value=\"candidate\">\n              <form onSubmit={handleCandidateRegister}>\n                <div className=\"space-y-4\">\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"name\">Name</Label>\n                    <Input\n                      id=\"name\"\n                      name=\"name\"\n                      placeholder=\"Your candidate name\"\n                      value={candidateForm.name}\n                      onChange={handleCandidateChange}\n                      required\n                    />\n                  </div>\n\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"statement\">Statement</Label>\n                    <Textarea\n                      id=\"statement\"\n                      name=\"statement\"\n                      placeholder=\"Share your platform or statement\"\n                      value={candidateForm.statement}\n                      onChange={handleCandidateChange}\n                      required\n                      rows={3}\n                    />\n                  </div>\n\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"imageUpload\">Profile Image</Label>\n                    <FileUpload\n                      onFileChange={handleFileChange}\n                      value={\n                        candidateForm.imageHash ? `https://gateway.pinata.cloud/ipfs/${candidateForm.imageHash}` : \"\"\n                      }\n                      isUploading={isUploading}\n                    />\n                    <p className=\"text-xs text-muted-foreground mt-1\">\n                      Upload a profile image to represent your candidacy (optional)\n                    </p>\n                  </div>\n\n                  {campaignInfo.restriction === 2 && (\n                    <div className=\"space-y-2\">\n                      <Label htmlFor=\"passKey\">Passkey</Label>\n                      <Input\n                        id=\"passKey\"\n                        name=\"passKey\"\n                        type=\"password\"\n                        placeholder=\"Enter the campaign passkey\"\n                        value={candidateForm.passKey}\n                        onChange={handleCandidateChange}\n                        required={campaignInfo.restriction === 2}\n                      />\n                    </div>\n                  )}\n\n                  <Alert className=\"border-blue-200 bg-blue-50 dark:bg-blue-950/20 dark:border-blue-900\">\n                    <Info className=\"h-4 w-4 text-blue-600 dark:text-blue-400\" />\n                    <AlertDescription className=\"text-blue-800 dark:text-blue-300 ml-2 text-sm\">\n                      Registering as a candidate will allow others to vote for you in this campaign. Your wallet address\n                      will be publicly associated with your candidacy.\n                    </AlertDescription>\n                  </Alert>\n\n                  <Button\n                    type=\"submit\"\n                    className=\"w-full\"\n                    disabled={\n                      !candidateForm.name ||\n                      !candidateForm.statement ||\n                      (campaignInfo.restriction === 2 && !candidateForm.passKey) ||\n                      isSubmittingCandidate ||\n                      isUploading\n                    }\n                  >\n                    {isSubmittingCandidate ? \"Registering...\" : \"Register as Candidate\"}\n                  </Button>\n                </div>\n              </form>\n            </TabsContent>\n          )}\n        </Tabs>\n      </CardContent>\n    </Card>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 5116, "column": 0}, "map": {"version":3,"sources":["file:///mnt/windows_d/manov/code/polytix-v1/app/campaigns/%5Bid%5D/_components/campaign-tabs.jsx"],"sourcesContent":["\"use client\"\n\nimport { useState } from \"react\"\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\"\nimport { BarChart, UserPlus, Vote, Info } from \"lucide-react\"\nimport OverviewTab from \"./tabs/overview-tab\"\nimport ResultsTab from \"./tabs/results-tab\"\nimport VoteTab from \"./tabs/vote-tab\"\nimport RegisterTab from \"./tabs/register-tab\"\n\nexport default function CampaignTabs({\n  campaignInfo,\n  proposals,\n  candidates,\n  isConnected,\n  userIsRegistered,\n  userHasVoted,\n  userIsCandidate,\n  needsRegistration,\n  isBeforeStart,\n  isDuringVoting,\n  isAfterEnd,\n  canRegister,\n  canVote,\n  isOwner,\n  address,\n  campaignId,\n  onUpdate,\n}) {\n  const [activeTab, setActiveTab] = useState(\"overview\")\n\n  // Hide register tab for registration-free campaigns\n  const showRegisterTab = canRegister && !isOwner && needsRegistration\n\n  return (\n    <Tabs defaultValue=\"overview\" className=\"w-full\" onValueChange={setActiveTab} value={activeTab}>\n      <TabsList className=\"grid grid-cols-2 md:grid-cols-4 mb-6 bg-white dark:bg-gray-900 border border-purple-100 dark:border-purple-900/50\">\n        <TabsTrigger\n          value=\"overview\"\n          className=\"flex items-center gap-2 data-[state=active]:bg-purple-100 dark:data-[state=active]:bg-purple-900/30 data-[state=active]:text-purple-900 dark:data-[state=active]:text-purple-100\"\n        >\n          <Info className=\"h-4 w-4\" />\n          <span>Overview</span>\n        </TabsTrigger>\n\n        <TabsTrigger\n          value=\"results\"\n          className=\"flex items-center gap-2 data-[state=active]:bg-purple-100 dark:data-[state=active]:bg-purple-900/30 data-[state=active]:text-purple-900 dark:data-[state=active]:text-purple-100\"\n        >\n          <BarChart className=\"h-4 w-4\" />\n          <span>Results</span>\n        </TabsTrigger>\n\n        {canVote && !isOwner && !userIsCandidate && (\n          <TabsTrigger\n            value=\"vote\"\n            className=\"flex items-center gap-2 data-[state=active]:bg-purple-100 dark:data-[state=active]:bg-purple-900/30 data-[state=active]:text-purple-900 dark:data-[state=active]:text-purple-100\"\n          >\n            <Vote className=\"h-4 w-4\" />\n            <span>Vote</span>\n          </TabsTrigger>\n        )}\n\n        {showRegisterTab && (\n          <TabsTrigger\n            value=\"register\"\n            className=\"flex items-center gap-2 data-[state=active]:bg-purple-100 dark:data-[state=active]:bg-purple-900/30 data-[state=active]:text-purple-900 dark:data-[state=active]:text-purple-100\"\n          >\n            <UserPlus className=\"h-4 w-4\" />\n            <span>Register</span>\n          </TabsTrigger>\n        )}\n      </TabsList>\n\n      <TabsContent value=\"overview\">\n        <OverviewTab\n          campaignInfo={campaignInfo}\n          isOwner={isOwner}\n          isBeforeStart={isBeforeStart}\n          isDuringVoting={isDuringVoting}\n          isAfterEnd={isAfterEnd}\n          proposals={proposals}\n          candidates={candidates}\n        />\n      </TabsContent>\n\n      <TabsContent value=\"results\">\n        <ResultsTab campaignInfo={campaignInfo} proposals={proposals} candidates={candidates} isOwner={isOwner} />\n      </TabsContent>\n\n      {canVote && !isOwner && !userIsCandidate && (\n        <TabsContent value=\"vote\">\n          <VoteTab\n            campaignInfo={campaignInfo}\n            proposals={proposals}\n            candidates={candidates}\n            isConnected={isConnected}\n            userIsRegistered={userIsRegistered}\n            userHasVoted={userHasVoted}\n            needsRegistration={needsRegistration}\n            address={address}\n            onVote={onUpdate}\n            campaignId={campaignId}\n          />\n        </TabsContent>\n      )}\n\n      {showRegisterTab && (\n        <TabsContent value=\"register\">\n          <RegisterTab\n            campaignInfo={campaignInfo}\n            userIsRegistered={userIsRegistered}\n            onRegister={onUpdate}\n            campaignId={campaignId}\n          />\n        </TabsContent>\n      )}\n    </Tabs>\n  )\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AARA;;;;;;;;;AAUe,SAAS,aAAa,EACnC,YAAY,EACZ,SAAS,EACT,UAAU,EACV,WAAW,EACX,gBAAgB,EAChB,YAAY,EACZ,eAAe,EACf,iBAAiB,EACjB,aAAa,EACb,cAAc,EACd,UAAU,EACV,WAAW,EACX,OAAO,EACP,OAAO,EACP,OAAO,EACP,UAAU,EACV,QAAQ,EACT;IACC,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAE3C,oDAAoD;IACpD,MAAM,kBAAkB,eAAe,CAAC,WAAW;IAEnD,qBACE,8OAAC,yHAAA,CAAA,OAAI;QAAC,cAAa;QAAW,WAAU;QAAS,eAAe;QAAc,OAAO;;0BACnF,8OAAC,yHAAA,CAAA,WAAQ;gBAAC,WAAU;;kCAClB,8OAAC,yHAAA,CAAA,cAAW;wBACV,OAAM;wBACN,WAAU;;0CAEV,8OAAC,kMAAA,CAAA,OAAI;gCAAC,WAAU;;;;;;0CAChB,8OAAC;0CAAK;;;;;;;;;;;;kCAGR,8OAAC,yHAAA,CAAA,cAAW;wBACV,OAAM;wBACN,WAAU;;0CAEV,8OAAC,6OAAA,CAAA,WAAQ;gCAAC,WAAU;;;;;;0CACpB,8OAAC;0CAAK;;;;;;;;;;;;oBAGP,WAAW,CAAC,WAAW,CAAC,iCACvB,8OAAC,yHAAA,CAAA,cAAW;wBACV,OAAM;wBACN,WAAU;;0CAEV,8OAAC,kMAAA,CAAA,OAAI;gCAAC,WAAU;;;;;;0CAChB,8OAAC;0CAAK;;;;;;;;;;;;oBAIT,iCACC,8OAAC,yHAAA,CAAA,cAAW;wBACV,OAAM;wBACN,WAAU;;0CAEV,8OAAC,8MAAA,CAAA,WAAQ;gCAAC,WAAU;;;;;;0CACpB,8OAAC;0CAAK;;;;;;;;;;;;;;;;;;0BAKZ,8OAAC,yHAAA,CAAA,cAAW;gBAAC,OAAM;0BACjB,cAAA,8OAAC,qKAAA,CAAA,UAAW;oBACV,cAAc;oBACd,SAAS;oBACT,eAAe;oBACf,gBAAgB;oBAChB,YAAY;oBACZ,WAAW;oBACX,YAAY;;;;;;;;;;;0BAIhB,8OAAC,yHAAA,CAAA,cAAW;gBAAC,OAAM;0BACjB,cAAA,8OAAC,oKAAA,CAAA,UAAU;oBAAC,cAAc;oBAAc,WAAW;oBAAW,YAAY;oBAAY,SAAS;;;;;;;;;;;YAGhG,WAAW,CAAC,WAAW,CAAC,iCACvB,8OAAC,yHAAA,CAAA,cAAW;gBAAC,OAAM;0BACjB,cAAA,8OAAC,iKAAA,CAAA,UAAO;oBACN,cAAc;oBACd,WAAW;oBACX,YAAY;oBACZ,aAAa;oBACb,kBAAkB;oBAClB,cAAc;oBACd,mBAAmB;oBACnB,SAAS;oBACT,QAAQ;oBACR,YAAY;;;;;;;;;;;YAKjB,iCACC,8OAAC,yHAAA,CAAA,cAAW;gBAAC,OAAM;0BACjB,cAAA,8OAAC,qKAAA,CAAA,UAAW;oBACV,cAAc;oBACd,kBAAkB;oBAClB,YAAY;oBACZ,YAAY;;;;;;;;;;;;;;;;;AAMxB","debugId":null}},
    {"offset": {"line": 5344, "column": 0}, "map": {"version":3,"sources":["file:///mnt/windows_d/manov/code/polytix-v1/app/campaigns/%5Bid%5D/_components/error-state.jsx"],"sourcesContent":["import Link from \"next/link\"\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\n\nconst ErrorState = ({ error }) => {\n  return (\n    <div className=\"container max-w-4xl mx-auto py-8 bg-purple-950 min-h-screen px-4\">\n      <Card className=\"border-purple-800 bg-purple-900 shadow-lg\">\n        <CardHeader>\n          <CardTitle className=\"text-xl text-red-400\">Error</CardTitle>\n        </CardHeader>\n        <CardContent>\n          <p className=\"text-purple-200 mb-4\">{error}</p>\n          <Button className=\"bg-purple-600 hover:bg-purple-700 text-white\" asChild>\n            <Link href=\"/campaigns\">Back to Campaigns</Link>\n          </Button>\n        </CardContent>\n      </Card>\n    </div>\n  )\n}\n\nexport default ErrorState\n\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;;AAEA,MAAM,aAAa,CAAC,EAAE,KAAK,EAAE;IAC3B,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC,yHAAA,CAAA,OAAI;YAAC,WAAU;;8BACd,8OAAC,yHAAA,CAAA,aAAU;8BACT,cAAA,8OAAC,yHAAA,CAAA,YAAS;wBAAC,WAAU;kCAAuB;;;;;;;;;;;8BAE9C,8OAAC,yHAAA,CAAA,cAAW;;sCACV,8OAAC;4BAAE,WAAU;sCAAwB;;;;;;sCACrC,8OAAC,2HAAA,CAAA,SAAM;4BAAC,WAAU;4BAA+C,OAAO;sCACtE,cAAA,8OAAC,4JAAA,CAAA,UAAI;gCAAC,MAAK;0CAAa;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMpC;uCAEe","debugId":null}},
    {"offset": {"line": 5426, "column": 0}, "map": {"version":3,"sources":["file:///mnt/windows_d/manov/code/polytix-v1/app/campaigns/%5Bid%5D/_components/not-found.jsx"],"sourcesContent":["import Link from \"next/link\"\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\n\nconst NotFoundState = () => {\n  return (\n    <div className=\"container max-w-4xl mx-auto py-8 bg-purple-950 min-h-screen px-4\">\n      <Card className=\"border-purple-800 bg-purple-900 shadow-lg\">\n        <CardHeader>\n          <CardTitle className=\"text-purple-100\">Campaign Not Found</CardTitle>\n        </CardHeader>\n        <CardContent>\n          <p className=\"text-purple-200 mb-4\">The campaign you're looking for doesn't exist or couldn't be loaded.</p>\n          <Button className=\"bg-purple-600 hover:bg-purple-700 text-white\" asChild>\n            <Link href=\"/campaigns\">Back to Campaigns</Link>\n          </Button>\n        </CardContent>\n      </Card>\n    </div>\n  )\n}\n\nexport default NotFoundState\n\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;;AAEA,MAAM,gBAAgB;IACpB,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC,yHAAA,CAAA,OAAI;YAAC,WAAU;;8BACd,8OAAC,yHAAA,CAAA,aAAU;8BACT,cAAA,8OAAC,yHAAA,CAAA,YAAS;wBAAC,WAAU;kCAAkB;;;;;;;;;;;8BAEzC,8OAAC,yHAAA,CAAA,cAAW;;sCACV,8OAAC;4BAAE,WAAU;sCAAuB;;;;;;sCACpC,8OAAC,2HAAA,CAAA,SAAM;4BAAC,WAAU;4BAA+C,OAAO;sCACtE,cAAA,8OAAC,4JAAA,CAAA,UAAI;gCAAC,MAAK;0CAAa;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMpC;uCAEe","debugId":null}},
    {"offset": {"line": 5508, "column": 0}, "map": {"version":3,"sources":["file:///mnt/windows_d/manov/code/polytix-v1/components/ui/skeleton.jsx"],"sourcesContent":["import { cn } from \"@/lib/utils\"\n\nfunction Skeleton({\n  className,\n  ...props\n}) {\n  return (\n    (<div\n      data-slot=\"skeleton\"\n      className={cn(\"bg-accent animate-pulse rounded-md\", className)}\n      {...props} />)\n  );\n}\n\nexport { Skeleton }\n"],"names":[],"mappings":";;;;AAAA;;;AAEA,SAAS,SAAS,EAChB,SAAS,EACT,GAAG,OACJ;IACC,qBACG,8OAAC;QACA,aAAU;QACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAEf","debugId":null}},
    {"offset": {"line": 5533, "column": 0}, "map": {"version":3,"sources":["file:///mnt/windows_d/manov/code/polytix-v1/components/ui/skeleton-card.jsx"],"sourcesContent":["import { Skeleton } from \"@/components/ui/skeleton\"\nimport { Card, CardContent, CardHeader } from \"@/components/ui/card\"\n\nexport function SkeletonCard() {\n  return (\n    <Card>\n      <CardHeader className=\"pb-2\">\n        <Skeleton className=\"h-6 w-3/4 mb-2\" />\n        <Skeleton className=\"h-4 w-1/2\" />\n      </CardHeader>\n      <CardContent>\n        <div className=\"space-y-4\">\n          <Skeleton className=\"h-20 w-full\" />\n          <div className=\"flex justify-between\">\n            <Skeleton className=\"h-4 w-1/4\" />\n            <Skeleton className=\"h-4 w-1/4\" />\n          </div>\n        </div>\n      </CardContent>\n    </Card>\n  )\n}\n\nexport function SkeletonCampaignDetail() {\n  return (\n    <div className=\"space-y-6 mt-20 px-14\">\n      <Card>\n        <CardHeader className=\"pb-2\">\n          <Skeleton className=\"h-8 w-3/4 mb-2\" />\n          <Skeleton className=\"h-4 w-1/2\" />\n        </CardHeader>\n        <CardContent>\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\">\n            {[1, 2, 3].map((i) => (\n              <Skeleton key={i} className=\"h-24 w-full\" />\n            ))}\n          </div>\n          <Skeleton className=\"h-20 w-full\" />\n        </CardContent>\n      </Card>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n        <Card className=\"lg:col-span-2\">\n          <CardHeader>\n            <Skeleton className=\"h-6 w-1/3 mb-2\" />\n            <Skeleton className=\"h-4 w-1/2\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-4\">\n              <Skeleton className=\"h-32 w-full\" />\n              <Skeleton className=\"h-24 w-full\" />\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader>\n            <Skeleton className=\"h-6 w-1/2 mb-2\" />\n            <Skeleton className=\"h-4 w-1/3\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-4\">\n              <Skeleton className=\"h-20 w-full\" />\n              <Skeleton className=\"h-20 w-full\" />\n              <Skeleton className=\"h-20 w-full\" />\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAEO,SAAS;IACd,qBACE,8OAAC,yHAAA,CAAA,OAAI;;0BACH,8OAAC,yHAAA,CAAA,aAAU;gBAAC,WAAU;;kCACpB,8OAAC,6HAAA,CAAA,WAAQ;wBAAC,WAAU;;;;;;kCACpB,8OAAC,6HAAA,CAAA,WAAQ;wBAAC,WAAU;;;;;;;;;;;;0BAEtB,8OAAC,yHAAA,CAAA,cAAW;0BACV,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC,6HAAA,CAAA,WAAQ;4BAAC,WAAU;;;;;;sCACpB,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,6HAAA,CAAA,WAAQ;oCAAC,WAAU;;;;;;8CACpB,8OAAC,6HAAA,CAAA,WAAQ;oCAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMhC;AAEO,SAAS;IACd,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC,yHAAA,CAAA,OAAI;;kCACH,8OAAC,yHAAA,CAAA,aAAU;wBAAC,WAAU;;0CACpB,8OAAC,6HAAA,CAAA,WAAQ;gCAAC,WAAU;;;;;;0CACpB,8OAAC,6HAAA,CAAA,WAAQ;gCAAC,WAAU;;;;;;;;;;;;kCAEtB,8OAAC,yHAAA,CAAA,cAAW;;0CACV,8OAAC;gCAAI,WAAU;0CACZ;oCAAC;oCAAG;oCAAG;iCAAE,CAAC,GAAG,CAAC,CAAC,kBACd,8OAAC,6HAAA,CAAA,WAAQ;wCAAS,WAAU;uCAAb;;;;;;;;;;0CAGnB,8OAAC,6HAAA,CAAA,WAAQ;gCAAC,WAAU;;;;;;;;;;;;;;;;;;0BAIxB,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,yHAAA,CAAA,OAAI;wBAAC,WAAU;;0CACd,8OAAC,yHAAA,CAAA,aAAU;;kDACT,8OAAC,6HAAA,CAAA,WAAQ;wCAAC,WAAU;;;;;;kDACpB,8OAAC,6HAAA,CAAA,WAAQ;wCAAC,WAAU;;;;;;;;;;;;0CAEtB,8OAAC,yHAAA,CAAA,cAAW;0CACV,cAAA,8OAAC;oCAAI,WAAU;;sDACb,8OAAC,6HAAA,CAAA,WAAQ;4CAAC,WAAU;;;;;;sDACpB,8OAAC,6HAAA,CAAA,WAAQ;4CAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;kCAK1B,8OAAC,yHAAA,CAAA,OAAI;;0CACH,8OAAC,yHAAA,CAAA,aAAU;;kDACT,8OAAC,6HAAA,CAAA,WAAQ;wCAAC,WAAU;;;;;;kDACpB,8OAAC,6HAAA,CAAA,WAAQ;wCAAC,WAAU;;;;;;;;;;;;0CAEtB,8OAAC,yHAAA,CAAA,cAAW;0CACV,cAAA,8OAAC;oCAAI,WAAU;;sDACb,8OAAC,6HAAA,CAAA,WAAQ;4CAAC,WAAU;;;;;;sDACpB,8OAAC,6HAAA,CAAA,WAAQ;4CAAC,WAAU;;;;;;sDACpB,8OAAC,6HAAA,CAAA,WAAQ;4CAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOlC","debugId":null}},
    {"offset": {"line": 5837, "column": 0}, "map": {"version":3,"sources":["file:///mnt/windows_d/manov/code/polytix-v1/app/campaigns/%5Bid%5D/page.jsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useState, useCallback } from \"react\"\nimport { useParams, useRouter } from \"next/navigation\"\nimport { useContract } from \"@/context/contract-context\"\nimport CampaignHeader from \"./_components/campaign-header\"\nimport CampaignTabs from \"./_components/campaign-tabs\"\nimport ErrorState from \"./_components/error-state\"\nimport NotFoundState from \"./_components/not-found\"\nimport { getTimeRemaining, isUserCandidate } from \"@/lib/utils\"\nimport { SkeletonCampaignDetail } from \"@/components/ui/skeleton-card\"\n\nconst CampaignDetailPage = () => {\n  const { contract, address, isConnected } = useContract()\n  const params = useParams()\n  const router = useRouter()\n  const campaignIdParam = params?.id\n  const tabParam = params?.tab || \"overview\"\n\n  const [campaignId, setCampaignId] = useState(null)\n  const [campaignInfo, setCampaignInfo] = useState(null)\n  const [proposals, setProposals] = useState([])\n  const [candidates, setCandidates] = useState([])\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState(null)\n  const [userHasVoted, setUserHasVoted] = useState(false)\n  const [userIsRegistered, setUserIsRegistered] = useState(false)\n  const [userIsCandidate, setUserIsCandidate] = useState(false)\n  const [isOwner, setIsOwner] = useState(false)\n  const [actionLoading, setActionLoading] = useState(false)\n  const [actionError, setActionError] = useState(\"\")\n  const [timeRemaining, setTimeRemaining] = useState({ days: 0, hours: 0, minutes: 0, seconds: 0 })\n  const [countdownTarget, setCountdownTarget] = useState(null)\n\n  // --- Data Fetching ---\n  const fetchCampaignData = useCallback(async () => {\n    if (!contract || !campaignId) {\n      setLoading(false)\n      if (campaignIdParam && !campaignId) setError(\"Invalid Campaign ID format.\")\n      return\n    }\n    setLoading(true)\n    setError(null)\n    setActionError(\"\")\n    console.log(`Fetching data for campaign ID: ${campaignId}`)\n\n    try {\n      // Fetch campaign basic info\n      const [votingType, restriction, resultType, creator, description] =\n        await contract.getCampaignBasicInfo(campaignId)\n\n      // Fetch campaign time info\n      const [status, startTime, endTime] = await contract.getCampaignTimeInfo(campaignId)\n\n      // Fetch campaign stats\n      const [totalVotes, itemCount, registeredVoterCount] = await contract.getCampaignStats(campaignId)\n\n      // Combine fetched data into a single state object\n      const combinedInfo = {\n        votingType: Number(votingType),\n        restriction: Number(restriction),\n        resultType: Number(resultType),\n        creator: creator,\n        description: description,\n        status: Number(status),\n        startTime: Number(startTime),\n        endTime: Number(endTime),\n        totalVotes: Number(totalVotes),\n        itemCount: Number(itemCount),\n        registeredVoterCount: Number(registeredVoterCount),\n      }\n      setCampaignInfo(combinedInfo)\n\n      // Check if current user is the owner\n      setIsOwner(address && address.toLowerCase() === creator.toLowerCase())\n\n      // Set countdown target based on campaign phase\n      const now = Math.floor(Date.now() / 1000)\n      if (now < combinedInfo.startTime) {\n        setCountdownTarget(combinedInfo.startTime)\n      } else if (now < combinedInfo.endTime) {\n        setCountdownTarget(combinedInfo.endTime)\n      }\n\n      console.log(\"Fetched Campaign Info:\", combinedInfo)\n\n      // Fetch proposals or candidates based on type\n      if (combinedInfo.votingType === 1 /* ProposalBased */) {\n        // Get all proposals\n        const proposalContents = []\n        const proposalVotes = []\n\n        for (let i = 0; i < combinedInfo.itemCount; i++) {\n          try {\n            const content = await contract.getProposalContent(campaignId, i)\n            const votes = await contract.getProposalVoteCount(campaignId, i)\n            proposalContents.push(content)\n            proposalVotes.push(Number(votes))\n          } catch (err) {\n            console.error(`Error fetching proposal ${i}:`, err)\n          }\n        }\n\n        const fetchedProposals = proposalContents.map((content, index) => ({\n          id: index,\n          content: content,\n          voteCount: proposalVotes[index],\n        }))\n\n        setProposals(fetchedProposals)\n        setCandidates([])\n        console.log(\"Fetched Proposals:\", fetchedProposals)\n      } else if (combinedInfo.votingType === 0 /* CandidateBased */) {\n        // Get all candidates\n        const fetchedCandidates = []\n\n        for (let i = 0; i < combinedInfo.itemCount; i++) {\n          try {\n            const [address, name, statement, imageHash, voteCount] = await contract.getCandidateInfo(campaignId, i)\n            fetchedCandidates.push({\n              id: i,\n              address: address,\n              name: name,\n              statement: statement,\n              imageHash: imageHash,\n              voteCount: Number(voteCount),\n            })\n          } catch (err) {\n            console.error(`Error fetching candidate ${i}:`, err)\n          }\n        }\n\n        setCandidates(fetchedCandidates)\n        setProposals([])\n        console.log(\"Fetched Candidates:\", fetchedCandidates)\n\n        // Check if current user is a candidate\n        if (address) {\n          const isCandidate = isUserCandidate(address, fetchedCandidates)\n          setUserIsCandidate(isCandidate)\n        }\n      }\n\n      // Fetch user-specific status if connected\n      if (address) {\n        const hasVoted = await contract.hasUserVoted(campaignId, address)\n        const isRegistered = await contract.isUserRegistered(campaignId, address)\n        setUserHasVoted(hasVoted)\n        setUserIsRegistered(isRegistered)\n        console.log(`User Status: Voted=${hasVoted}, Registered=${isRegistered}`)\n      } else {\n        setUserHasVoted(false)\n        setUserIsRegistered(false)\n        setUserIsCandidate(false)\n      }\n    } catch (err) {\n      console.error(\"Error fetching campaign data:\", err)\n      // Attempt to decode Solidity revert reason\n      let reason = \"Failed to load campaign details.\"\n      if (err.reason) {\n        reason = err.reason\n      } else if (err.data?.message) {\n        reason = err.data.message\n      } else if (err.message) {\n        reason = err.message\n      }\n      setError(reason.includes(\"Invalid campaign\") ? \"Campaign not found or ID is invalid.\" : reason)\n      setCampaignInfo(null)\n    } finally {\n      setLoading(false)\n    }\n  }, [contract, campaignId, address, campaignIdParam])\n\n  \n  // --- Effect to parse ID and trigger fetch ---\n  useEffect(() => {\n    if (campaignIdParam) {\n      try {\n        const idNumber = Number(campaignIdParam)\n        setCampaignId(idNumber)\n      } catch (e) {\n        setError(\"Invalid Campaign ID in URL.\")\n        setLoading(false)\n        setCampaignId(null)\n      }\n    } else {\n      setLoading(false)\n    }\n  }, [campaignIdParam])\n\n  useEffect(() => {\n    // Fetch data when contract is ready and campaignId is set\n    if (contract && campaignId) {\n      fetchCampaignData()\n    }\n  }, [contract, campaignId])\n\n  // Countdown timer effect\n  useEffect(() => {\n    if (!countdownTarget) return\n\n    const updateCountdown = () => {\n      const remaining = getTimeRemaining(countdownTarget)\n      setTimeRemaining(remaining)\n\n      // If countdown finished, refresh data\n      const now = Math.floor(Date.now() / 1000)\n      if (now >= countdownTarget) {\n        fetchCampaignData()\n      }\n    }\n\n    updateCountdown()\n    const interval = setInterval(updateCountdown, 1000)\n    return () => clearInterval(interval)\n  }, [countdownTarget])\n\n  // --- Render Logic ---\n  if (loading) {\n    return <SkeletonCampaignDetail />\n  }\n\n  if (error) {\n    return <ErrorState error={error} />\n  }\n\n  if (!campaignInfo) {\n    return <NotFoundState />\n  }\n\n  // Derived state for easier conditional rendering\n  const now = Math.floor(Date.now() / 1000)\n  const isBeforeStart = now < campaignInfo.startTime\n  const isDuringVoting = now >= campaignInfo.startTime && now <= campaignInfo.endTime\n  const isAfterEnd = now > campaignInfo.endTime\n  const needsRegistration =\n    campaignInfo.restriction === 1 /* Limited */ || campaignInfo.restriction === 2 /* RequiredRegistration */\n  const canRegister = isBeforeStart && campaignInfo.status === 0 /* Created */\n  const canVote = isDuringVoting && campaignInfo.status === 1 /* Active */ && !userIsCandidate\n  const needsStatusUpdate =\n    (isDuringVoting && campaignInfo.status === 0) /* Created */ ||\n    (isAfterEnd && campaignInfo.status === 1) /* Active */\n\n  return (\n    <div className=\"w-full py-6 mt-20 min-h-screen bg-gradient-to-b from-gray-50 to-purple-50 dark:from-gray-950 dark:to-purple-950/20\">\n      <div className=\"max-w-[1400px] mx-auto px-14\">\n        {/* <CampaignHeader\n          campaignInfo={campaignInfo}\n          timeRemaining={timeRemaining}\n          isBeforeStart={isBeforeStart}\n          isDuringVoting={isDuringVoting}\n          needsStatusUpdate={needsStatusUpdate}\n          actionLoading={actionLoading}\n          actionError={actionError}\n          onUpdateStatus={fetchCampaignData}\n          campaignId={campaignId}\n          isOwner={isOwner}\n        /> */}\n\n        <CampaignTabs\n          campaignInfo={campaignInfo}\n          proposals={proposals}\n          candidates={candidates}\n          isConnected={isConnected}\n          userIsRegistered={userIsRegistered}\n          userHasVoted={userHasVoted}\n          userIsCandidate={userIsCandidate}\n          needsRegistration={needsRegistration}\n          isBeforeStart={isBeforeStart}\n          isDuringVoting={isDuringVoting}\n          isAfterEnd={isAfterEnd}\n          canRegister={canRegister}\n          canVote={canVote}\n          isOwner={isOwner}\n          address={address}\n          campaignId={campaignId}\n          onUpdate={fetchCampaignData}\n        />\n      </div>\n    </div>\n  )\n}\n\nexport default CampaignDetailPage\n"],"names":[],"mappings":"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","debugId":null}}]
}